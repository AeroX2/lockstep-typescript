!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=17)}([function(e,t,n){var r;!function(i){"use strict";var o,s,a,u=9e15,c=1e9,f="0123456789abcdef",l="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",h="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",d={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-u,maxE:u,crypto:!1},p=!0,g="[DecimalError] ",y=g+"Invalid argument: ",v=g+"Precision limit exceeded",w=g+"crypto unavailable",m=Math.floor,b=Math.pow,_=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,k=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,x=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,E=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,S=1e7,B=7,A=l.length-1,C=h.length-1,N={name:"[object Decimal]"};function I(e){var t,n,r,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)r=e[t]+"",(n=B-r.length)&&(o+=q(n)),o+=r;s=e[t],(n=B-(r=s+"").length)&&(o+=q(n))}else if(0===s)return"0";for(;s%10==0;)s/=10;return o+s}function T(e,t,n){if(e!==~~e||e<t||e>n)throw Error(y+e)}function M(e,t,n,r){var i,o,s,a;for(o=e[0];o>=10;o/=10)--t;return--t<0?(t+=B,i=0):(i=Math.ceil((t+1)/B),t%=B),o=b(10,B-t),a=e[i]%o|0,null==r?t<3?(0==t?a=a/100|0:1==t&&(a=a/10|0),s=n<4&&99999==a||n>3&&49999==a||5e4==a||0==a):s=(n<4&&a+1==o||n>3&&a+1==o/2)&&(e[i+1]/o/100|0)==b(10,t-2)-1||(a==o/2||0==a)&&0==(e[i+1]/o/100|0):t<4?(0==t?a=a/1e3|0:1==t?a=a/100|0:2==t&&(a=a/10|0),s=(r||n<4)&&9999==a||!r&&n>3&&4999==a):s=((r||n<4)&&a+1==o||!r&&n>3&&a+1==o/2)&&(e[i+1]/o/1e3|0)==b(10,t-3)-1,s}function P(e,t,n){for(var r,i,o=[0],s=0,a=e.length;s<a;){for(i=o.length;i--;)o[i]*=t;for(o[0]+=f.indexOf(e.charAt(s++)),r=0;r<o.length;r++)o[r]>n-1&&(void 0===o[r+1]&&(o[r+1]=0),o[r+1]+=o[r]/n|0,o[r]%=n)}return o.reverse()}N.absoluteValue=N.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),R(e)},N.ceil=function(){return R(new this.constructor(this),this.e+1,2)},N.comparedTo=N.cmp=function(e){var t,n,r,i,o=this,s=o.d,a=(e=new o.constructor(e)).d,u=o.s,c=e.s;if(!s||!a)return u&&c?u!==c?u:s===a?0:!s^u<0?1:-1:NaN;if(!s[0]||!a[0])return s[0]?u:a[0]?-c:0;if(u!==c)return u;if(o.e!==e.e)return o.e>e.e^u<0?1:-1;for(t=0,n=(r=s.length)<(i=a.length)?r:i;t<n;++t)if(s[t]!==a[t])return s[t]>a[t]^u<0?1:-1;return r===i?0:r>i^u<0?1:-1},N.cosine=N.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+B,r.rounding=1,n=function(e,t){var n,r,i=t.d.length;i<32?(n=Math.ceil(i/3),r=Math.pow(4,-n).toString()):(n=16,r="2.3283064365386962890625e-10");e.precision+=n,t=G(e,1,t.times(r),new e(1));for(var o=n;o--;){var s=t.times(t);t=s.times(s).minus(s).times(8).plus(1)}return e.precision-=n,t}(r,K(r,n)),r.precision=e,r.rounding=t,R(2==a||3==a?n.neg():n,e,t,!0)):new r(1):new r(NaN)},N.cubeRoot=N.cbrt=function(){var e,t,n,r,i,o,s,a,u,c,f=this,l=f.constructor;if(!f.isFinite()||f.isZero())return new l(f);for(p=!1,(o=f.s*Math.pow(f.s*f,1/3))&&Math.abs(o)!=1/0?r=new l(o.toString()):(n=I(f.d),(o=((e=f.e)-n.length+1)%3)&&(n+=1==o||-2==o?"0":"00"),o=Math.pow(n,1/3),e=m((e+1)/3)-(e%3==(e<0?-1:2)),(r=new l(n=o==1/0?"5e"+e:(n=o.toExponential()).slice(0,n.indexOf("e")+1)+e)).s=f.s),s=(e=l.precision)+3;;)if(c=(u=(a=r).times(a).times(a)).plus(f),r=O(c.plus(f).times(a),c.plus(u),s+2,1),I(a.d).slice(0,s)===(n=I(r.d)).slice(0,s)){if("9999"!=(n=n.slice(s-3,s+1))&&(i||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(R(r,e+1,1),t=!r.times(r).times(r).eq(f));break}if(!i&&(R(a,e+1,0),a.times(a).times(a).eq(f))){r=a;break}s+=4,i=1}return p=!0,R(r,e,l.rounding,t)},N.decimalPlaces=N.dp=function(){var e,t=this.d,n=NaN;if(t){if(n=((e=t.length-1)-m(this.e/B))*B,e=t[e])for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n},N.dividedBy=N.div=function(e){return O(this,new this.constructor(e))},N.dividedToIntegerBy=N.divToInt=function(e){var t=this.constructor;return R(O(this,new t(e),0,1,1),t.precision,t.rounding)},N.equals=N.eq=function(e){return 0===this.cmp(e)},N.floor=function(){return R(new this.constructor(this),this.e+1,3)},N.greaterThan=N.gt=function(e){return this.cmp(e)>0},N.greaterThanOrEqualTo=N.gte=function(e){var t=this.cmp(e);return 1==t||0===t},N.hyperbolicCosine=N.cosh=function(){var e,t,n,r,i,o=this,s=o.constructor,a=new s(1);if(!o.isFinite())return new s(o.s?1/0:NaN);if(o.isZero())return a;n=s.precision,r=s.rounding,s.precision=n+Math.max(o.e,o.sd())+4,s.rounding=1,(i=o.d.length)<32?(e=Math.ceil(i/3),t=Math.pow(4,-e).toString()):(e=16,t="2.3283064365386962890625e-10"),o=G(s,1,o.times(t),new s(1),!0);for(var u,c=e,f=new s(8);c--;)u=o.times(o),o=a.minus(u.times(f.minus(u.times(f))));return R(o,s.precision=n,s.rounding=r,!0)},N.hyperbolicSine=N.sinh=function(){var e,t,n,r,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(t=o.precision,n=o.rounding,o.precision=t+Math.max(i.e,i.sd())+4,o.rounding=1,(r=i.d.length)<3)i=G(o,2,i,i,!0);else{e=(e=1.4*Math.sqrt(r))>16?16:0|e,i=G(o,2,i=i.times(Math.pow(5,-e)),i,!0);for(var s,a=new o(5),u=new o(16),c=new o(20);e--;)s=i.times(i),i=i.times(a.plus(s.times(u.times(s).plus(c))))}return o.precision=t,o.rounding=n,R(i,t,n,!0)},N.hyperbolicTangent=N.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,O(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)},N.inverseCosine=N.acos=function(){var e,t=this,n=t.constructor,r=t.abs().cmp(1),i=n.precision,o=n.rounding;return-1!==r?0===r?t.isNeg()?j(n,i,o):new n(0):new n(NaN):t.isZero()?j(n,i+4,o).times(.5):(n.precision=i+6,n.rounding=1,t=t.asin(),e=j(n,i+4,o).times(.5),n.precision=i,n.rounding=o,e.minus(t))},N.inverseHyperbolicCosine=N.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,p=!1,n=n.times(n).minus(1).sqrt().plus(n),p=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)},N.inverseHyperbolicSine=N.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,p=!1,n=n.times(n).plus(1).sqrt().plus(n),p=!0,r.precision=e,r.rounding=t,n.ln())},N.inverseHyperbolicTangent=N.atanh=function(){var e,t,n,r,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=o.precision,t=o.rounding,r=i.sd(),Math.max(r,e)<2*-i.e-1?R(new o(i),e,t,!0):(o.precision=n=r-i.e,i=O(i.plus(1),new o(1).minus(i),n+e,1),o.precision=e+4,o.rounding=1,i=i.ln(),o.precision=e,o.rounding=t,i.times(.5))):new o(NaN)},N.inverseSine=N.asin=function(){var e,t,n,r,i=this,o=i.constructor;return i.isZero()?new o(i):(t=i.abs().cmp(1),n=o.precision,r=o.rounding,-1!==t?0===t?((e=j(o,n+4,r).times(.5)).s=i.s,e):new o(NaN):(o.precision=n+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=r,i.times(2)))},N.inverseTangent=N.atan=function(){var e,t,n,r,i,o,s,a,u,c=this,f=c.constructor,l=f.precision,h=f.rounding;if(c.isFinite()){if(c.isZero())return new f(c);if(c.abs().eq(1)&&l+4<=C)return(s=j(f,l+4,h).times(.25)).s=c.s,s}else{if(!c.s)return new f(NaN);if(l+4<=C)return(s=j(f,l+4,h).times(.5)).s=c.s,s}for(f.precision=a=l+10,f.rounding=1,e=n=Math.min(28,a/B+2|0);e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(p=!1,t=Math.ceil(a/B),r=1,u=c.times(c),s=new f(c),i=c;-1!==e;)if(i=i.times(u),o=s.minus(i.div(r+=2)),i=i.times(u),void 0!==(s=o.plus(i.div(r+=2))).d[t])for(e=t;s.d[e]===o.d[e]&&e--;);return n&&(s=s.times(2<<n-1)),p=!0,R(s,f.precision=l,f.rounding=h,!0)},N.isFinite=function(){return!!this.d},N.isInteger=N.isInt=function(){return!!this.d&&m(this.e/B)>this.d.length-2},N.isNaN=function(){return!this.s},N.isNegative=N.isNeg=function(){return this.s<0},N.isPositive=N.isPos=function(){return this.s>0},N.isZero=function(){return!!this.d&&0===this.d[0]},N.lessThan=N.lt=function(e){return this.cmp(e)<0},N.lessThanOrEqualTo=N.lte=function(e){return this.cmp(e)<1},N.logarithm=N.log=function(e){var t,n,r,i,o,s,a,u,c=this.constructor,f=c.precision,l=c.rounding;if(null==e)e=new c(10),t=!0;else{if(n=(e=new c(e)).d,e.s<0||!n||!n[0]||e.eq(1))return new c(NaN);t=e.eq(10)}if(n=this.d,this.s<0||!n||!n[0]||this.eq(1))return new c(n&&!n[0]?-1/0:1!=this.s?NaN:n?0:1/0);if(t)if(n.length>1)o=!0;else{for(i=n[0];i%10==0;)i/=10;o=1!==i}if(p=!1,s=V(this,a=f+5),r=t?L(c,a+10):V(e,a),M((u=O(s,r,a,1)).d,i=f,l))do{if(s=V(this,a+=10),r=t?L(c,a+10):V(e,a),u=O(s,r,a,1),!o){+I(u.d).slice(i+1,i+15)+1==1e14&&(u=R(u,f+1,0));break}}while(M(u.d,i+=10,l));return p=!0,R(u,f,l)},N.minus=N.sub=function(e){var t,n,r,i,o,s,a,u,c,f,l,h,d=this,g=d.constructor;if(e=new g(e),!d.d||!e.d)return d.s&&e.s?d.d?e.s=-e.s:e=new g(e.d||d.s!==e.s?d:NaN):e=new g(NaN),e;if(d.s!=e.s)return e.s=-e.s,d.plus(e);if(c=d.d,h=e.d,a=g.precision,u=g.rounding,!c[0]||!h[0]){if(h[0])e.s=-e.s;else{if(!c[0])return new g(3===u?-0:0);e=new g(d)}return p?R(e,a,u):e}if(n=m(e.e/B),f=m(d.e/B),c=c.slice(),o=f-n){for((l=o<0)?(t=c,o=-o,s=h.length):(t=h,n=f,s=c.length),o>(r=Math.max(Math.ceil(a/B),s)+2)&&(o=r,t.length=1),t.reverse(),r=o;r--;)t.push(0);t.reverse()}else{for((l=(r=c.length)<(s=h.length))&&(s=r),r=0;r<s;r++)if(c[r]!=h[r]){l=c[r]<h[r];break}o=0}for(l&&(t=c,c=h,h=t,e.s=-e.s),s=c.length,r=h.length-s;r>0;--r)c[s++]=0;for(r=h.length;r>o;){if(c[--r]<h[r]){for(i=r;i&&0===c[--i];)c[i]=S-1;--c[i],c[r]+=S}c[r]-=h[r]}for(;0===c[--s];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(e.d=c,e.e=U(c,n),p?R(e,a,u):e):new g(3===u?-0:0)},N.modulo=N.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?R(new r(n),r.precision,r.rounding):(p=!1,9==r.modulo?(t=O(n,e.abs(),0,3,1)).s*=e.s:t=O(n,e,0,r.modulo,1),t=t.times(e),p=!0,n.minus(t))},N.naturalExponential=N.exp=function(){return W(this)},N.naturalLogarithm=N.ln=function(){return V(this)},N.negated=N.neg=function(){var e=new this.constructor(this);return e.s=-e.s,R(e)},N.plus=N.add=function(e){var t,n,r,i,o,s,a,u,c,f,l=this,h=l.constructor;if(e=new h(e),!l.d||!e.d)return l.s&&e.s?l.d||(e=new h(e.d||l.s===e.s?l:NaN)):e=new h(NaN),e;if(l.s!=e.s)return e.s=-e.s,l.minus(e);if(c=l.d,f=e.d,a=h.precision,u=h.rounding,!c[0]||!f[0])return f[0]||(e=new h(l)),p?R(e,a,u):e;if(o=m(l.e/B),r=m(e.e/B),c=c.slice(),i=o-r){for(i<0?(n=c,i=-i,s=f.length):(n=f,r=o,s=c.length),i>(s=(o=Math.ceil(a/B))>s?o+1:s+1)&&(i=s,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((s=c.length)-(i=f.length)<0&&(i=s,n=f,f=c,c=n),t=0;i;)t=(c[--i]=c[i]+f[i]+t)/S|0,c[i]%=S;for(t&&(c.unshift(t),++r),s=c.length;0==c[--s];)c.pop();return e.d=c,e.e=U(c,r),p?R(e,a,u):e},N.precision=N.sd=function(e){var t,n=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(y+e);return n.d?(t=F(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t},N.round=function(){var e=this,t=e.constructor;return R(new t(e),e.e+1,t.rounding)},N.sine=N.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+B,r.rounding=1,n=function(e,t){var n,r=t.d.length;if(r<3)return G(e,2,t,t);n=(n=1.4*Math.sqrt(r))>16?16:0|n,t=t.times(Math.pow(5,-n)),t=G(e,2,t,t);for(var i,o=new e(5),s=new e(16),a=new e(20);n--;)i=t.times(t),t=t.times(o.plus(i.times(s.times(i).minus(a))));return t}(r,K(r,n)),r.precision=e,r.rounding=t,R(a>2?n.neg():n,e,t,!0)):new r(NaN)},N.squareRoot=N.sqrt=function(){var e,t,n,r,i,o,s=this,a=s.d,u=s.e,c=s.s,f=s.constructor;if(1!==c||!a||!a[0])return new f(!c||c<0&&(!a||a[0])?NaN:a?s:1/0);for(p=!1,0==(c=Math.sqrt(+s))||c==1/0?(((t=I(a)).length+u)%2==0&&(t+="0"),c=Math.sqrt(t),u=m((u+1)/2)-(u<0||u%2),r=new f(t=c==1/0?"1e"+u:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+u)):r=new f(c.toString()),n=(u=f.precision)+3;;)if(r=(o=r).plus(O(s,o,n+2,1)).times(.5),I(o.d).slice(0,n)===(t=I(r.d)).slice(0,n)){if("9999"!=(t=t.slice(n-3,n+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(R(r,u+1,1),e=!r.times(r).eq(s));break}if(!i&&(R(o,u+1,0),o.times(o).eq(s))){r=o;break}n+=4,i=1}return p=!0,R(r,u,f.rounding,e)},N.tangent=N.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,(n=n.sin()).s=1,n=O(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,R(2==a||4==a?n.neg():n,e,t,!0)):new r(NaN)},N.times=N.mul=function(e){var t,n,r,i,o,s,a,u,c,f=this,l=f.constructor,h=f.d,d=(e=new l(e)).d;if(e.s*=f.s,!(h&&h[0]&&d&&d[0]))return new l(!e.s||h&&!h[0]&&!d||d&&!d[0]&&!h?NaN:h&&d?0*e.s:e.s/0);for(n=m(f.e/B)+m(e.e/B),(u=h.length)<(c=d.length)&&(o=h,h=d,d=o,s=u,u=c,c=s),o=[],r=s=u+c;r--;)o.push(0);for(r=c;--r>=0;){for(t=0,i=u+r;i>r;)a=o[i]+d[r]*h[i-r-1]+t,o[i--]=a%S|0,t=a/S|0;o[i]=(o[i]+t)%S|0}for(;!o[--s];)o.pop();return t?++n:o.shift(),e.d=o,e.e=U(o,n),p?R(e,l.precision,l.rounding):e},N.toBinary=function(e,t){return $(this,2,e,t)},N.toDecimalPlaces=N.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(T(e,0,c),void 0===t?t=r.rounding:T(t,0,8),R(n,e+n.e+1,t))},N.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=D(r,!0):(T(e,0,c),void 0===t?t=i.rounding:T(t,0,8),n=D(r=R(new i(r),e+1,t),!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n},N.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?n=D(i):(T(e,0,c),void 0===t?t=o.rounding:T(t,0,8),n=D(r=R(new o(i),e+i.e+1,t),!1,e+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n},N.toFraction=function(e){var t,n,r,i,o,s,a,u,c,f,l,h,d=this,g=d.d,v=d.constructor;if(!g)return new v(d);if(c=n=new v(1),r=u=new v(0),s=(o=(t=new v(r)).e=F(g)-d.e-1)%B,t.d[0]=b(10,s<0?B+s:s),null==e)e=o>0?t:c;else{if(!(a=new v(e)).isInt()||a.lt(c))throw Error(y+a);e=a.gt(t)?o>0?t:c:a}for(p=!1,a=new v(I(g)),f=v.precision,v.precision=o=g.length*B*2;l=O(a,t,0,1,1),1!=(i=n.plus(l.times(r))).cmp(e);)n=r,r=i,i=c,c=u.plus(l.times(i)),u=i,i=t,t=a.minus(l.times(i)),a=i;return i=O(e.minus(n),r,0,1,1),u=u.plus(i.times(c)),n=n.plus(i.times(r)),u.s=c.s=d.s,h=O(c,r,o,1).minus(d).abs().cmp(O(u,n,o,1).minus(d).abs())<1?[c,r]:[u,n],v.precision=f,p=!0,h},N.toHexadecimal=N.toHex=function(e,t){return $(this,16,e,t)},N.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),null==e){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),void 0===t?t=r.rounding:T(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(p=!1,n=O(n,e,0,t,1).times(e),p=!0,R(n)):(e.s=n.s,n=e),n},N.toNumber=function(){return+this},N.toOctal=function(e,t){return $(this,8,e,t)},N.toPower=N.pow=function(e){var t,n,r,i,o,s,a=this,u=a.constructor,c=+(e=new u(e));if(!(a.d&&e.d&&a.d[0]&&e.d[0]))return new u(b(+a,c));if((a=new u(a)).eq(1))return a;if(r=u.precision,o=u.rounding,e.eq(1))return R(a,r,o);if((t=m(e.e/B))>=e.d.length-1&&(n=c<0?-c:c)<=9007199254740991)return i=z(u,a,n,r),e.s<0?new u(1).div(i):R(i,r,o);if((s=a.s)<0){if(t<e.d.length-1)return new u(NaN);if(0==(1&e.d[t])&&(s=1),0==a.e&&1==a.d[0]&&1==a.d.length)return a.s=s,a}return(t=0!=(n=b(+a,c))&&isFinite(n)?new u(n+"").e:m(c*(Math.log("0."+I(a.d))/Math.LN10+a.e+1)))>u.maxE+1||t<u.minE-1?new u(t>0?s/0:0):(p=!1,u.rounding=a.s=1,n=Math.min(12,(t+"").length),(i=W(e.times(V(a,r+n)),r)).d&&M((i=R(i,r+5,1)).d,r,o)&&(t=r+10,+I((i=R(W(e.times(V(a,t+n)),t),t+5,1)).d).slice(r+1,r+15)+1==1e14&&(i=R(i,r+1,0))),i.s=s,p=!0,u.rounding=o,R(i,r,o))},N.toPrecision=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=D(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(T(e,1,c),void 0===t?t=i.rounding:T(t,0,8),n=D(r=R(new i(r),e,t),e<=r.e||r.e<=i.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n},N.toSignificantDigits=N.toSD=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(T(e,1,c),void 0===t?t=n.rounding:T(t,0,8)),R(new n(this),e,t)},N.toString=function(){var e=this,t=e.constructor,n=D(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n},N.truncated=N.trunc=function(){return R(new this.constructor(this),this.e+1,1)},N.valueOf=N.toJSON=function(){var e=this,t=e.constructor,n=D(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};var O=function(){function e(e,t,n){var r,i=0,o=e.length;for(e=e.slice();o--;)r=e[o]*t+i,e[o]=r%n|0,i=r/n|0;return i&&e.unshift(i),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,o,a,u,c){var f,l,h,d,p,g,y,v,w,b,_,k,x,E,A,C,N,I,T,M,P=r.constructor,O=r.s==i.s?1:-1,D=r.d,U=i.d;if(!(D&&D[0]&&U&&U[0]))return new P(r.s&&i.s&&(D?!U||D[0]!=U[0]:U)?D&&0==D[0]||!U?0*O:O/0:NaN);for(c?(p=1,l=r.e-i.e):(c=S,p=B,l=m(r.e/p)-m(i.e/p)),T=U.length,N=D.length,b=(w=new P(O)).d=[],h=0;U[h]==(D[h]||0);h++);if(U[h]>(D[h]||0)&&l--,null==o?(E=o=P.precision,a=P.rounding):E=u?o+(r.e-i.e)+1:o,E<0)b.push(1),g=!0;else{if(E=E/p+2|0,h=0,1==T){for(d=0,U=U[0],E++;(h<N||d)&&E--;h++)A=d*c+(D[h]||0),b[h]=A/U|0,d=A%U|0;g=d||h<N}else{for((d=c/(U[0]+1)|0)>1&&(U=e(U,d,c),D=e(D,d,c),T=U.length,N=D.length),C=T,k=(_=D.slice(0,T)).length;k<T;)_[k++]=0;(M=U.slice()).unshift(0),I=U[0],U[1]>=c/2&&++I;do{d=0,(f=t(U,_,T,k))<0?(x=_[0],T!=k&&(x=x*c+(_[1]||0)),(d=x/I|0)>1?(d>=c&&(d=c-1),1==(f=t(y=e(U,d,c),_,v=y.length,k=_.length))&&(d--,n(y,T<v?M:U,v,c))):(0==d&&(f=d=1),y=U.slice()),(v=y.length)<k&&y.unshift(0),n(_,y,k,c),-1==f&&(f=t(U,_,T,k=_.length))<1&&(d++,n(_,T<k?M:U,k,c)),k=_.length):0===f&&(d++,_=[0]),b[h++]=d,f&&_[0]?_[k++]=D[C]||0:(_=[D[C]],k=1)}while((C++<N||void 0!==_[0])&&E--);g=void 0!==_[0]}b[0]||b.shift()}if(1==p)w.e=l,s=g;else{for(h=1,d=b[0];d>=10;d/=10)h++;w.e=h+l*p-1,R(w,u?o+w.e+1:o,a,g)}return w}}();function R(e,t,n,r){var i,o,s,a,u,c,f,l,h,d=e.constructor;e:if(null!=t){if(!(l=e.d))return e;for(i=1,a=l[0];a>=10;a/=10)i++;if((o=t-i)<0)o+=B,s=t,u=(f=l[h=0])/b(10,i-s-1)%10|0;else if((h=Math.ceil((o+1)/B))>=(a=l.length)){if(!r)break e;for(;a++<=h;)l.push(0);f=u=0,i=1,s=(o%=B)-B+1}else{for(f=a=l[h],i=1;a>=10;a/=10)i++;u=(s=(o%=B)-B+i)<0?0:f/b(10,i-s-1)%10|0}if(r=r||t<0||void 0!==l[h+1]||(s<0?f:f%b(10,i-s-1)),c=n<4?(u||r)&&(0==n||n==(e.s<0?3:2)):u>5||5==u&&(4==n||r||6==n&&(o>0?s>0?f/b(10,i-s):0:l[h-1])%10&1||n==(e.s<0?8:7)),t<1||!l[0])return l.length=0,c?(t-=e.e+1,l[0]=b(10,(B-t%B)%B),e.e=-t||0):l[0]=e.e=0,e;if(0==o?(l.length=h,a=1,h--):(l.length=h+1,a=b(10,B-o),l[h]=s>0?(f/b(10,i-s)%b(10,s)|0)*a:0),c)for(;;){if(0==h){for(o=1,s=l[0];s>=10;s/=10)o++;for(s=l[0]+=a,a=1;s>=10;s/=10)a++;o!=a&&(e.e++,l[0]==S&&(l[0]=1));break}if(l[h]+=a,l[h]!=S)break;l[h--]=0,a=1}for(o=l.length;0===l[--o];)l.pop()}return p&&(e.e>d.maxE?(e.d=null,e.e=NaN):e.e<d.minE&&(e.e=0,e.d=[0])),e}function D(e,t,n){if(!e.isFinite())return X(e);var r,i=e.e,o=I(e.d),s=o.length;return t?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+q(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(e.e<0?"e":"e+")+e.e):i<0?(o="0."+q(-i-1)+o,n&&(r=n-s)>0&&(o+=q(r))):i>=s?(o+=q(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+q(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=q(r))),o}function U(e,t){var n=e[0];for(t*=B;n>=10;n/=10)t++;return t}function L(e,t,n){if(t>A)throw p=!0,n&&(e.precision=n),Error(v);return R(new e(l),t,1,!0)}function j(e,t,n){if(t>C)throw Error(v);return R(new e(h),t,n,!0)}function F(e){var t=e.length-1,n=t*B+1;if(t=e[t]){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function q(e){for(var t="";e--;)t+="0";return t}function z(e,t,n,r){var i,o=new e(1),s=Math.ceil(r/B+4);for(p=!1;;){if(n%2&&Q((o=o.times(t)).d,s)&&(i=!0),0===(n=m(n/2))){n=o.d.length-1,i&&0===o.d[n]&&++o.d[n];break}Q((t=t.times(t)).d,s)}return p=!0,o}function H(e){return 1&e.d[e.d.length-1]}function Y(e,t,n){for(var r,i=new e(t[0]),o=0;++o<t.length;){if(!(r=new e(t[o])).s){i=r;break}i[n](r)&&(i=r)}return i}function W(e,t){var n,r,i,o,s,a,u,c=0,f=0,l=0,h=e.constructor,d=h.rounding,g=h.precision;if(!e.d||!e.d[0]||e.e>17)return new h(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(p=!1,u=g):u=t,a=new h(.03125);e.e>-2;)e=e.times(a),l+=5;for(u+=r=Math.log(b(2,l))/Math.LN10*2+5|0,n=o=s=new h(1),h.precision=u;;){if(o=R(o.times(e),u,1),n=n.times(++f),I((a=s.plus(O(o,n,u,1))).d).slice(0,u)===I(s.d).slice(0,u)){for(i=l;i--;)s=R(s.times(s),u,1);if(null!=t)return h.precision=g,s;if(!(c<3&&M(s.d,u-r,d,c)))return R(s,h.precision=g,d,p=!0);h.precision=u+=10,n=o=a=new h(1),f=0,c++}s=a}}function V(e,t){var n,r,i,o,s,a,u,c,f,l,h,d=1,g=e,y=g.d,v=g.constructor,w=v.rounding,m=v.precision;if(g.s<0||!y||!y[0]||!g.e&&1==y[0]&&1==y.length)return new v(y&&!y[0]?-1/0:1!=g.s?NaN:y?0:g);if(null==t?(p=!1,f=m):f=t,v.precision=f+=10,r=(n=I(y)).charAt(0),!(Math.abs(o=g.e)<15e14))return c=L(v,f+2,m).times(o+""),g=V(new v(r+"."+n.slice(1)),f-10).plus(c),v.precision=m,null==t?R(g,m,w,p=!0):g;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=I((g=g.times(e)).d)).charAt(0),d++;for(o=g.e,r>1?(g=new v("0."+n),o++):g=new v(r+"."+n.slice(1)),l=g,u=s=g=O(g.minus(1),g.plus(1),f,1),h=R(g.times(g),f,1),i=3;;){if(s=R(s.times(h),f,1),I((c=u.plus(O(s,new v(i),f,1))).d).slice(0,f)===I(u.d).slice(0,f)){if(u=u.times(2),0!==o&&(u=u.plus(L(v,f+2,m).times(o+""))),u=O(u,new v(d),f,1),null!=t)return v.precision=m,u;if(!M(u.d,f-10,w,a))return R(u,v.precision=m,w,p=!0);v.precision=f+=10,c=s=g=O(l.minus(1),l.plus(1),f,1),h=R(g.times(g),f,1),i=a=1}u=c,i+=2}}function X(e){return String(e.s*e.s/0)}function J(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);r++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(r,i)){if(i-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%B,n<0&&(r+=B),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=B;r<i;)e.d.push(+t.slice(r,r+=B));t=t.slice(r),r=B-t.length}else r-=i;for(;r--;)t+="0";e.d.push(+t),p&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function Z(e,t){var n,r,i,s,a,u,c,f,l;if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(k.test(t))n=16,t=t.toLowerCase();else if(_.test(t))n=2;else{if(!x.test(t))throw Error(y+t);n=8}for((s=t.search(/p/i))>0?(c=+t.slice(s+1),t=t.substring(2,s)):t=t.slice(2),a=(s=t.indexOf("."))>=0,r=e.constructor,a&&(s=(u=(t=t.replace(".","")).length)-s,i=z(r,new r(n),s,2*s)),s=l=(f=P(t,n,S)).length-1;0===f[s];--s)f.pop();return s<0?new r(0*e.s):(e.e=U(f,l),e.d=f,p=!1,a&&(e=O(e,i,4*u)),c&&(e=e.times(Math.abs(c)<54?Math.pow(2,c):o.pow(2,c))),p=!0,e)}function G(e,t,n,r,i){var o,s,a,u,c=e.precision,f=Math.ceil(c/B);for(p=!1,u=n.times(n),a=new e(r);;){if(s=O(a.times(u),new e(t++*t++),c,1),a=i?r.plus(s):r.minus(s),r=O(s.times(u),new e(t++*t++),c,1),void 0!==(s=a.plus(r)).d[f]){for(o=f;s.d[o]===a.d[o]&&o--;);if(-1==o)break}o=a,a=r,r=s,s=o,0}return p=!0,s.d.length=f+1,s}function K(e,t){var n,r=t.s<0,i=j(e,e.precision,1),o=i.times(.5);if((t=t.abs()).lte(o))return a=r?4:1,t;if((n=t.divToInt(i)).isZero())a=r?3:2;else{if((t=t.minus(n.times(i))).lte(o))return a=H(n)?r?2:3:r?4:1,t;a=H(n)?r?1:4:r?3:2}return t.minus(i).abs()}function $(e,t,n,r){var i,o,a,u,l,h,d,p,g,y=e.constructor,v=void 0!==n;if(v?(T(n,1,c),void 0===r?r=y.rounding:T(r,0,8)):(n=y.precision,r=y.rounding),e.isFinite()){for(v?(i=2,16==t?n=4*n-3:8==t&&(n=3*n-2)):i=t,(a=(d=D(e)).indexOf("."))>=0&&(d=d.replace(".",""),(g=new y(1)).e=d.length-a,g.d=P(D(g),10,i),g.e=g.d.length),o=l=(p=P(d,10,i)).length;0==p[--l];)p.pop();if(p[0]){if(a<0?o--:((e=new y(e)).d=p,e.e=o,p=(e=O(e,g,n,r,0,i)).d,o=e.e,h=s),a=p[n],u=i/2,h=h||void 0!==p[n+1],h=r<4?(void 0!==a||h)&&(0===r||r===(e.s<0?3:2)):a>u||a===u&&(4===r||h||6===r&&1&p[n-1]||r===(e.s<0?8:7)),p.length=n,h)for(;++p[--n]>i-1;)p[n]=0,n||(++o,p.unshift(1));for(l=p.length;!p[l-1];--l);for(a=0,d="";a<l;a++)d+=f.charAt(p[a]);if(v){if(l>1)if(16==t||8==t){for(a=16==t?4:3,--l;l%a;l++)d+="0";for(l=(p=P(d,i,t)).length;!p[l-1];--l);for(a=1,d="1.";a<l;a++)d+=f.charAt(p[a])}else d=d.charAt(0)+"."+d.slice(1);d=d+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)d="0"+d;d="0."+d}else if(++o>l)for(o-=l;o--;)d+="0";else o<l&&(d=d.slice(0,o)+"."+d.slice(o))}else d=v?"0p+0":"0";d=(16==t?"0x":2==t?"0b":8==t?"0o":"")+d}else d=X(e);return e.s<0?"-"+d:d}function Q(e,t){if(e.length>t)return e.length=t,!0}function ee(e){return new this(e).abs()}function te(e){return new this(e).acos()}function ne(e){return new this(e).acosh()}function re(e,t){return new this(e).plus(t)}function ie(e){return new this(e).asin()}function oe(e){return new this(e).asinh()}function se(e){return new this(e).atan()}function ae(e){return new this(e).atanh()}function ue(e,t){e=new this(e),t=new this(t);var n,r=this.precision,i=this.rounding,o=r+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(n=t.s<0?j(this,r,i):new this(0)).s=e.s:!e.d||t.isZero()?(n=j(this,o,1).times(.5)).s=e.s:t.s<0?(this.precision=o,this.rounding=1,n=this.atan(O(e,t,o,1)),t=j(this,o,1),this.precision=r,this.rounding=i,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(O(e,t,o,1)):(n=j(this,o,1).times(t.s>0?.25:.75)).s=e.s:n=new this(NaN),n}function ce(e){return new this(e).cbrt()}function fe(e){return R(e=new this(e),e.e+1,2)}function le(e){if(!e||"object"!=typeof e)throw Error(g+"Object expected");var t,n,r,i=!0===e.defaults,o=["precision",1,c,"rounding",0,8,"toExpNeg",-u,0,"toExpPos",0,u,"maxE",0,u,"minE",-u,0,"modulo",0,9];for(t=0;t<o.length;t+=3)if(n=o[t],i&&(this[n]=d[n]),void 0!==(r=e[n])){if(!(m(r)===r&&r>=o[t+1]&&r<=o[t+2]))throw Error(y+n+": "+r);this[n]=r}if(n="crypto",i&&(this[n]=d[n]),void 0!==(r=e[n])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(y+n+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(w);this[n]=!0}else this[n]=!1}return this}function he(e){return new this(e).cos()}function de(e){return new this(e).cosh()}function pe(e,t){return new this(e).div(t)}function ge(e){return new this(e).exp()}function ye(e){return R(e=new this(e),e.e+1,3)}function ve(){var e,t,n=new this(0);for(p=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return p=!0,new this(1/0);n=t}return p=!0,n.sqrt()}function we(e){return e instanceof o||e&&"[object Decimal]"===e.name||!1}function me(e){return new this(e).ln()}function be(e,t){return new this(e).log(t)}function _e(e){return new this(e).log(2)}function ke(e){return new this(e).log(10)}function xe(){return Y(this,arguments,"lt")}function Ee(){return Y(this,arguments,"gt")}function Se(e,t){return new this(e).mod(t)}function Be(e,t){return new this(e).mul(t)}function Ae(e,t){return new this(e).pow(t)}function Ce(e){var t,n,r,i,o=0,s=new this(1),a=[];if(void 0===e?e=this.precision:T(e,1,c),r=Math.ceil(e/B),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));o<r;)(i=t[o])>=429e7?t[o]=crypto.getRandomValues(new Uint32Array(1))[0]:a[o++]=i%1e7;else{if(!crypto.randomBytes)throw Error(w);for(t=crypto.randomBytes(r*=4);o<r;)(i=t[o]+(t[o+1]<<8)+(t[o+2]<<16)+((127&t[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,o):(a.push(i%1e7),o+=4);o=r/4}else for(;o<r;)a[o++]=1e7*Math.random()|0;for(r=a[--o],e%=B,r&&e&&(i=b(10,B-e),a[o]=(r/i|0)*i);0===a[o];o--)a.pop();if(o<0)n=0,a=[0];else{for(n=-1;0===a[0];n-=B)a.shift();for(r=1,i=a[0];i>=10;i/=10)r++;r<B&&(n-=B-r)}return s.e=n,s.d=a,s}function Ne(e){return R(e=new this(e),e.e+1,this.rounding)}function Ie(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function Te(e){return new this(e).sin()}function Me(e){return new this(e).sinh()}function Pe(e){return new this(e).sqrt()}function Oe(e,t){return new this(e).sub(t)}function Re(e){return new this(e).tan()}function De(e){return new this(e).tanh()}function Ue(e){return R(e=new this(e),e.e+1,1)}(o=function e(t){var n,r,i;function o(e){var t,n,r,i=this;if(!(i instanceof o))return new o(e);if(i.constructor=o,e instanceof o)return i.s=e.s,void(p?!e.d||e.e>o.maxE?(i.e=NaN,i.d=null):e.e<o.minE?(i.e=0,i.d=[0]):(i.e=e.e,i.d=e.d.slice()):(i.e=e.e,i.d=e.d?e.d.slice():e.d));if("number"==(r=typeof e)){if(0===e)return i.s=1/e<0?-1:1,i.e=0,void(i.d=[0]);if(e<0?(e=-e,i.s=-1):i.s=1,e===~~e&&e<1e7){for(t=0,n=e;n>=10;n/=10)t++;return void(p?t>o.maxE?(i.e=NaN,i.d=null):t<o.minE?(i.e=0,i.d=[0]):(i.e=t,i.d=[e]):(i.e=t,i.d=[e]))}return 0*e!=0?(e||(i.s=NaN),i.e=NaN,void(i.d=null)):J(i,e.toString())}if("string"!==r)throw Error(y+e);return 45===e.charCodeAt(0)?(e=e.slice(1),i.s=-1):i.s=1,E.test(e)?J(i,e):Z(i,e)}if(o.prototype=N,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=le,o.clone=e,o.isDecimal=we,o.abs=ee,o.acos=te,o.acosh=ne,o.add=re,o.asin=ie,o.asinh=oe,o.atan=se,o.atanh=ae,o.atan2=ue,o.cbrt=ce,o.ceil=fe,o.cos=he,o.cosh=de,o.div=pe,o.exp=ge,o.floor=ye,o.hypot=ve,o.ln=me,o.log=be,o.log10=ke,o.log2=_e,o.max=xe,o.min=Ee,o.mod=Se,o.mul=Be,o.pow=Ae,o.random=Ce,o.round=Ne,o.sign=Ie,o.sin=Te,o.sinh=Me,o.sqrt=Pe,o.sub=Oe,o.tan=Re,o.tanh=De,o.trunc=Ue,void 0===t&&(t={}),t&&!0!==t.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return o.config(t),o}(d)).default=o.Decimal=o,l=new o(l),h=new o(h),void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){var r;e.exports=function e(t,n,i){function o(a,u){if(!n[a]){if(!t[a]){var c="function"==typeof r&&r;if(!u&&c)return r(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+a+"'")}var f=n[a]={exports:{}};t[a][0].call(f.exports,function(e){var n=t[a][1][e];return o(n||e)},f,f.exports,e,t,n,i)}return n[a].exports}for(var s="function"==typeof r&&r,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(e,t,n){(function(r,i,o,s,a,u,c,f,l){"use strict";function h(e,t){return t=d(e,t),function(e,t){var n;if(void 0===(n="passthrough"!==t.algorithm?v.createHash(t.algorithm):new y).write&&(n.write=n.update,n.end=n.update),g(t,n).dispatch(e),n.update||n.end(""),n.digest)return n.digest("buffer"===t.encoding?void 0:t.encoding);var r=n.read();return"buffer"===t.encoding?r:r.toString(t.encoding)}(e,t)}function d(e,t){if((t=t||{}).algorithm=t.algorithm||"sha1",t.encoding=t.encoding||"hex",t.excludeValues=!!t.excludeValues,t.algorithm=t.algorithm.toLowerCase(),t.encoding=t.encoding.toLowerCase(),t.ignoreUnknown=!0===t.ignoreUnknown,t.respectType=!1!==t.respectType,t.respectFunctionNames=!1!==t.respectFunctionNames,t.respectFunctionProperties=!1!==t.respectFunctionProperties,t.unorderedArrays=!0===t.unorderedArrays,t.unorderedSets=!1!==t.unorderedSets,t.unorderedObjects=!1!==t.unorderedObjects,t.replacer=t.replacer||void 0,t.excludeKeys=t.excludeKeys||void 0,void 0===e)throw new Error("Object argument required.");for(var n=0;n<w.length;++n)w[n].toLowerCase()===t.algorithm.toLowerCase()&&(t.algorithm=w[n]);if(-1===w.indexOf(t.algorithm))throw new Error('Algorithm "'+t.algorithm+'"  not supported. supported values: '+w.join(", "));if(-1===m.indexOf(t.encoding)&&"passthrough"!==t.algorithm)throw new Error('Encoding "'+t.encoding+'"  not supported. supported values: '+m.join(", "));return t}function p(e){return"function"==typeof e&&null!=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))}function g(e,t,n){n=n||[];var r=function(e){return t.update?t.update(e,"utf8"):t.write(e,"utf8")};return{dispatch:function(t){e.replacer&&(t=e.replacer(t));var n=typeof t;return null===t&&(n="null"),this["_"+n](t)},_object:function(t){var i=Object.prototype.toString.call(t),s=/\[object (.*)\]/i.exec(i);s=(s=s?s[1]:"unknown:["+i+"]").toLowerCase();var a=null;if((a=n.indexOf(t))>=0)return this.dispatch("[CIRCULAR:"+a+"]");if(n.push(t),void 0!==o&&o.isBuffer&&o.isBuffer(t))return r("buffer:"),r(t);if("object"===s||"function"===s){var u=Object.keys(t);e.unorderedObjects&&(u=u.sort()),!1===e.respectType||p(t)||u.splice(0,0,"prototype","__proto__","constructor"),e.excludeKeys&&(u=u.filter(function(t){return!e.excludeKeys(t)})),r("object:"+u.length+":");var c=this;return u.forEach(function(n){c.dispatch(n),r(":"),e.excludeValues||c.dispatch(t[n]),r(",")})}if(!this["_"+s]){if(e.ignoreUnknown)return r("["+s+"]");throw new Error('Unknown object type "'+s+'"')}this["_"+s](t)},_array:function(t,i){i=void 0!==i?i:!1!==e.unorderedArrays;var o=this;if(r("array:"+t.length+":"),!i||t.length<=1)return t.forEach(function(e){return o.dispatch(e)});var s=[],a=t.map(function(t){var r=new y,i=n.slice(),o=g(e,r,i);return o.dispatch(t),s=s.concat(i.slice(n.length)),r.read().toString()});return n=n.concat(s),a.sort(),this._array(a,!1)},_date:function(e){return r("date:"+e.toJSON())},_symbol:function(e){return r("symbol:"+e.toString())},_error:function(e){return r("error:"+e.toString())},_boolean:function(e){return r("bool:"+e.toString())},_string:function(e){r("string:"+e.length+":"),r(e.toString())},_function:function(t){r("fn:"),p(t)?this.dispatch("[native]"):this.dispatch(t.toString()),!1!==e.respectFunctionNames&&this.dispatch("function-name:"+String(t.name)),e.respectFunctionProperties&&this._object(t)},_number:function(e){return r("number:"+e.toString())},_xml:function(e){return r("xml:"+e.toString())},_null:function(){return r("Null")},_undefined:function(){return r("Undefined")},_regexp:function(e){return r("regex:"+e.toString())},_uint8array:function(e){return r("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint8clampedarray:function(e){return r("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(e))},_int8array:function(e){return r("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint16array:function(e){return r("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_int16array:function(e){return r("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_uint32array:function(e){return r("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_int32array:function(e){return r("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_float32array:function(e){return r("float32array:"),this.dispatch(Array.prototype.slice.call(e))},_float64array:function(e){return r("float64array:"),this.dispatch(Array.prototype.slice.call(e))},_arraybuffer:function(e){return r("arraybuffer:"),this.dispatch(new Uint8Array(e))},_url:function(e){return r("url:"+e.toString())},_map:function(t){r("map:");var n=Array.from(t);return this._array(n,!1!==e.unorderedSets)},_set:function(t){r("set:");var n=Array.from(t);return this._array(n,!1!==e.unorderedSets)},_blob:function(){if(e.ignoreUnknown)return r("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},_domwindow:function(){return r("domwindow")},_process:function(){return r("process")},_timer:function(){return r("timer")},_pipe:function(){return r("pipe")},_tcp:function(){return r("tcp")},_udp:function(){return r("udp")},_tty:function(){return r("tty")},_statwatcher:function(){return r("statwatcher")},_securecontext:function(){return r("securecontext")},_connection:function(){return r("connection")},_zlib:function(){return r("zlib")},_context:function(){return r("context")},_nodescript:function(){return r("nodescript")},_httpparser:function(){return r("httpparser")},_dataview:function(){return r("dataview")},_signal:function(){return r("signal")},_fsevent:function(){return r("fsevent")},_tlswrap:function(){return r("tlswrap")}}}function y(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}var v=e("crypto");(n=t.exports=h).sha1=function(e){return h(e)},n.keys=function(e){return h(e,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},n.MD5=function(e){return h(e,{algorithm:"md5",encoding:"hex"})},n.keysMD5=function(e){return h(e,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var w=v.getHashes?v.getHashes().slice():["sha1","md5"];w.push("passthrough");var m=["buffer","hex","binary","base64"];n.writeToStream=function(e,t,n){return void 0===n&&(n=t,t={}),g(t=d(e,t),n).dispatch(e)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_e8180ef5.js","/")},{buffer:3,crypto:5,lYpoI2:10}],2:[function(e,t,n){(function(e,t,r,i,o,s,a,u,c){var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){"use strict";function t(e){var t=e.charCodeAt(0);return t===r||t===u?62:t===i||t===c?63:t<o?-1:t<o+10?t-o+26+26:t<a+26?t-a:t<s+26?t-s+26:void 0}var n="undefined"!=typeof Uint8Array?Uint8Array:Array,r="+".charCodeAt(0),i="/".charCodeAt(0),o="0".charCodeAt(0),s="a".charCodeAt(0),a="A".charCodeAt(0),u="-".charCodeAt(0),c="_".charCodeAt(0);e.toByteArray=function(e){function r(e){c[l++]=e}var i,o,s,a,u,c;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var f=e.length;u="="===e.charAt(f-2)?2:"="===e.charAt(f-1)?1:0,c=new n(3*e.length/4-u),s=u>0?e.length-4:e.length;var l=0;for(i=0,o=0;i<s;i+=4,o+=3)r((16711680&(a=t(e.charAt(i))<<18|t(e.charAt(i+1))<<12|t(e.charAt(i+2))<<6|t(e.charAt(i+3))))>>16),r((65280&a)>>8),r(255&a);return 2===u?r(255&(a=t(e.charAt(i))<<2|t(e.charAt(i+1))>>4)):1===u&&(r((a=t(e.charAt(i))<<10|t(e.charAt(i+1))<<4|t(e.charAt(i+2))>>2)>>8&255),r(255&a)),c},e.fromByteArray=function(e){function t(e){return f.charAt(e)}function n(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var r,i,o,s=e.length%3,a="";for(r=0,o=e.length-s;r<o;r+=3)i=(e[r]<<16)+(e[r+1]<<8)+e[r+2],a+=n(i);switch(s){case 1:i=e[e.length-1],a+=t(i>>2),a+=t(i<<4&63),a+="==";break;case 2:i=(e[e.length-2]<<8)+e[e.length-1],a+=t(i>>10),a+=t(i>>4&63),a+=t(i<<2&63),a+="="}return a}}(void 0===n?this.base64js={}:n)}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:10}],3:[function(e,t,n){(function(t,r,i,o,s,a,u,c,f){function i(e,t,n){if(!(this instanceof i))return new i(e,t,n);var r,o,s,a=typeof e;if("base64"===t&&"string"===a)for(e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e);e.length%4!=0;)e+="=";if("number"===a)r=I(e);else if("string"===a)r=i.byteLength(e,t);else{if("object"!==a)throw new Error("First argument needs to be a number, array or string.");r=I(e.length)}if(i._useTypedArrays?o=i._augment(new Uint8Array(r)):((o=this).length=r,o._isBuffer=!0),i._useTypedArrays&&"number"==typeof e.byteLength)o._set(e);else if(function(e){return T(e)||i.isBuffer(e)||e&&"object"==typeof e&&"number"==typeof e.length}(e))for(s=0;s<r;s++)i.isBuffer(e)?o[s]=e.readUInt8(s):o[s]=e[s];else if("string"===a)o.write(e,0,t);else if("number"===a&&!i._useTypedArrays&&!n)for(s=0;s<r;s++)o[s]=0;return o}function l(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var s=t.length;F(s%2==0,"Invalid hex string"),r>s/2&&(r=s/2);for(var a=0;a<r;a++){var u=parseInt(t.substr(2*a,2),16);F(!isNaN(u),"Invalid hex string"),e[n+a]=u}return i._charsWritten=2*a,a}function h(e,t,n,r){var o=i._charsWritten=R(P(t),e,n,r);return o}function d(e,t,n,r){var o=i._charsWritten=R(function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}(t),e,n,r);return o}function p(e,t,n,r){var o=i._charsWritten=R(O(t),e,n,r);return o}function g(e,t,n,r){var o=i._charsWritten=R(function(e){for(var t,n,r,i=[],o=0;o<e.length;o++)t=e.charCodeAt(o),n=t>>8,r=t%256,i.push(r),i.push(n);return i}(t),e,n,r);return o}function y(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;i++)r+=String.fromCharCode(e[i]);return r}function v(e,t,n,r){r||(F("boolean"==typeof n,"missing or invalid endian"),F(null!=t,"missing offset"),F(t+1<e.length,"Trying to read beyond buffer length"));var i,o=e.length;if(!(t>=o))return n?(i=e[t],t+1<o&&(i|=e[t+1]<<8)):(i=e[t]<<8,t+1<o&&(i|=e[t+1])),i}function w(e,t,n,r){r||(F("boolean"==typeof n,"missing or invalid endian"),F(null!=t,"missing offset"),F(t+3<e.length,"Trying to read beyond buffer length"));var i,o=e.length;if(!(t>=o))return n?(t+2<o&&(i=e[t+2]<<16),t+1<o&&(i|=e[t+1]<<8),i|=e[t],t+3<o&&(i+=e[t+3]<<24>>>0)):(t+1<o&&(i=e[t+1]<<16),t+2<o&&(i|=e[t+2]<<8),t+3<o&&(i|=e[t+3]),i+=e[t]<<24>>>0),i}function m(e,t,n,r){r||(F("boolean"==typeof n,"missing or invalid endian"),F(null!=t,"missing offset"),F(t+1<e.length,"Trying to read beyond buffer length"));var i=e.length;if(!(t>=i)){var o=v(e,t,n,!0),s=32768&o;return s?-1*(65535-o+1):o}}function b(e,t,n,r){r||(F("boolean"==typeof n,"missing or invalid endian"),F(null!=t,"missing offset"),F(t+3<e.length,"Trying to read beyond buffer length"));var i=e.length;if(!(t>=i)){var o=w(e,t,n,!0),s=2147483648&o;return s?-1*(4294967295-o+1):o}}function _(e,t,n,r){return r||(F("boolean"==typeof n,"missing or invalid endian"),F(t+3<e.length,"Trying to read beyond buffer length")),z.read(e,t,n,23,4)}function k(e,t,n,r){return r||(F("boolean"==typeof n,"missing or invalid endian"),F(t+7<e.length,"Trying to read beyond buffer length")),z.read(e,t,n,52,8)}function x(e,t,n,r,i){i||(F(null!=t,"missing value"),F("boolean"==typeof r,"missing or invalid endian"),F(null!=n,"missing offset"),F(n+1<e.length,"trying to write beyond buffer length"),U(t,65535));var o=e.length;if(!(n>=o))for(var s=0,a=Math.min(o-n,2);s<a;s++)e[n+s]=(t&255<<8*(r?s:1-s))>>>8*(r?s:1-s)}function E(e,t,n,r,i){i||(F(null!=t,"missing value"),F("boolean"==typeof r,"missing or invalid endian"),F(null!=n,"missing offset"),F(n+3<e.length,"trying to write beyond buffer length"),U(t,4294967295));var o=e.length;if(!(n>=o))for(var s=0,a=Math.min(o-n,4);s<a;s++)e[n+s]=t>>>8*(r?s:3-s)&255}function S(e,t,n,r,i){i||(F(null!=t,"missing value"),F("boolean"==typeof r,"missing or invalid endian"),F(null!=n,"missing offset"),F(n+1<e.length,"Trying to write beyond buffer length"),L(t,32767,-32768));var o=e.length;n>=o||x(e,t>=0?t:65535+t+1,n,r,i)}function B(e,t,n,r,i){i||(F(null!=t,"missing value"),F("boolean"==typeof r,"missing or invalid endian"),F(null!=n,"missing offset"),F(n+3<e.length,"Trying to write beyond buffer length"),L(t,2147483647,-2147483648));var o=e.length;n>=o||E(e,t>=0?t:4294967295+t+1,n,r,i)}function A(e,t,n,r,i){i||(F(null!=t,"missing value"),F("boolean"==typeof r,"missing or invalid endian"),F(null!=n,"missing offset"),F(n+3<e.length,"Trying to write beyond buffer length"),j(t,3.4028234663852886e38,-3.4028234663852886e38));var o=e.length;n>=o||z.write(e,t,n,r,23,4)}function C(e,t,n,r,i){i||(F(null!=t,"missing value"),F("boolean"==typeof r,"missing or invalid endian"),F(null!=n,"missing offset"),F(n+7<e.length,"Trying to write beyond buffer length"),j(t,1.7976931348623157e308,-1.7976931348623157e308));var o=e.length;n>=o||z.write(e,t,n,r,52,8)}function N(e,t,n){return"number"!=typeof e?n:(e=~~e)>=t?t:e>=0?e:(e+=t)>=0?e:0}function I(e){return(e=~~Math.ceil(+e))<0?0:e}function T(e){return(Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)}function M(e){return e<16?"0"+e.toString(16):e.toString(16)}function P(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(e.charCodeAt(n));else{var i=n;r>=55296&&r<=57343&&n++;for(var o=encodeURIComponent(e.slice(i,n+1)).substr(1).split("%"),s=0;s<o.length;s++)t.push(parseInt(o[s],16))}}return t}function O(e){return q.toByteArray(e)}function R(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);i++)t[i+n]=e[i];return i}function D(e){try{return decodeURIComponent(e)}catch(e){return String.fromCharCode(65533)}}function U(e,t){F("number"==typeof e,"cannot write a non-number as a number"),F(e>=0,"specified a negative value for writing an unsigned value"),F(e<=t,"value is larger than maximum value for type"),F(Math.floor(e)===e,"value has a fractional component")}function L(e,t,n){F("number"==typeof e,"cannot write a non-number as a number"),F(e<=t,"value larger than maximum allowed value"),F(e>=n,"value smaller than minimum allowed value"),F(Math.floor(e)===e,"value has a fractional component")}function j(e,t,n){F("number"==typeof e,"cannot write a non-number as a number"),F(e<=t,"value larger than maximum allowed value"),F(e>=n,"value smaller than minimum allowed value")}function F(e,t){if(!e)throw new Error(t||"Failed assertion")}var q=e("base64-js"),z=e("ieee754");n.Buffer=i,n.SlowBuffer=i,n.INSPECT_MAX_BYTES=50,i.poolSize=8192,i._useTypedArrays=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray}catch(e){return!1}}(),i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.byteLength=function(e,t){var n;switch(e+="",t||"utf8"){case"hex":n=e.length/2;break;case"utf8":case"utf-8":n=P(e).length;break;case"ascii":case"binary":case"raw":n=e.length;break;case"base64":n=O(e).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*e.length;break;default:throw new Error("Unknown encoding")}return n},i.concat=function(e,t){if(F(T(e),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===e.length)return new i(0);if(1===e.length)return e[0];var n;if("number"!=typeof t)for(t=0,n=0;n<e.length;n++)t+=e[n].length;var r=new i(t),o=0;for(n=0;n<e.length;n++){var s=e[n];s.copy(r,o),o+=s.length}return r},i.prototype.write=function(e,t,n,r){if(isFinite(t))isFinite(n)||(r=n,n=void 0);else{var i=r;r=t,t=n,n=i}t=Number(t)||0;var o,s=this.length-t;switch(n?(n=Number(n))>s&&(n=s):n=s,r=String(r||"utf8").toLowerCase()){case"hex":o=l(this,e,t,n);break;case"utf8":case"utf-8":o=h(this,e,t,n);break;case"ascii":o=d(this,e,t,n);break;case"binary":o=function(e,t,n,r){return d(e,t,n,r)}(this,e,t,n);break;case"base64":o=p(this,e,t,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":o=g(this,e,t,n);break;default:throw new Error("Unknown encoding")}return o},i.prototype.toString=function(e,t,n){var r,i=this;if(e=String(e||"utf8").toLowerCase(),t=Number(t)||0,(n=void 0!==n?Number(n):n=i.length)===t)return"";switch(e){case"hex":r=function(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;o++)i+=M(e[o]);return i}(i,t,n);break;case"utf8":case"utf-8":r=function(e,t,n){var r="",i="";n=Math.min(e.length,n);for(var o=t;o<n;o++)e[o]<=127?(r+=D(i)+String.fromCharCode(e[o]),i=""):i+="%"+e[o].toString(16);return r+D(i)}(i,t,n);break;case"ascii":r=y(i,t,n);break;case"binary":r=function(e,t,n){return y(e,t,n)}(i,t,n);break;case"base64":r=function(e,t,n){return 0===t&&n===e.length?q.fromByteArray(e):q.fromByteArray(e.slice(t,n))}(i,t,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":r=function(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}(i,t,n);break;default:throw new Error("Unknown encoding")}return r},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},i.prototype.copy=function(e,t,n,r){var o=this;if(n||(n=0),r||0===r||(r=this.length),t||(t=0),r!==n&&0!==e.length&&0!==o.length){F(r>=n,"sourceEnd < sourceStart"),F(t>=0&&t<e.length,"targetStart out of bounds"),F(n>=0&&n<o.length,"sourceStart out of bounds"),F(r>=0&&r<=o.length,"sourceEnd out of bounds"),r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var s=r-n;if(s<100||!i._useTypedArrays)for(var a=0;a<s;a++)e[a+t]=this[a+n];else e._set(this.subarray(n,n+s),t)}},i.prototype.slice=function(e,t){var n=this.length;if(e=N(e,n,0),t=N(t,n,n),i._useTypedArrays)return i._augment(this.subarray(e,t));for(var r=t-e,o=new i(r,void 0,!0),s=0;s<r;s++)o[s]=this[s+e];return o},i.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},i.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},i.prototype.readUInt8=function(e,t){if(t||(F(null!=e,"missing offset"),F(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return this[e]},i.prototype.readUInt16LE=function(e,t){return v(this,e,!0,t)},i.prototype.readUInt16BE=function(e,t){return v(this,e,!1,t)},i.prototype.readUInt32LE=function(e,t){return w(this,e,!0,t)},i.prototype.readUInt32BE=function(e,t){return w(this,e,!1,t)},i.prototype.readInt8=function(e,t){if(t||(F(null!=e,"missing offset"),F(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length)){var n=128&this[e];return n?-1*(255-this[e]+1):this[e]}},i.prototype.readInt16LE=function(e,t){return m(this,e,!0,t)},i.prototype.readInt16BE=function(e,t){return m(this,e,!1,t)},i.prototype.readInt32LE=function(e,t){return b(this,e,!0,t)},i.prototype.readInt32BE=function(e,t){return b(this,e,!1,t)},i.prototype.readFloatLE=function(e,t){return _(this,e,!0,t)},i.prototype.readFloatBE=function(e,t){return _(this,e,!1,t)},i.prototype.readDoubleLE=function(e,t){return k(this,e,!0,t)},i.prototype.readDoubleBE=function(e,t){return k(this,e,!1,t)},i.prototype.writeUInt8=function(e,t,n){n||(F(null!=e,"missing value"),F(null!=t,"missing offset"),F(t<this.length,"trying to write beyond buffer length"),U(e,255)),t>=this.length||(this[t]=e)},i.prototype.writeUInt16LE=function(e,t,n){x(this,e,t,!0,n)},i.prototype.writeUInt16BE=function(e,t,n){x(this,e,t,!1,n)},i.prototype.writeUInt32LE=function(e,t,n){E(this,e,t,!0,n)},i.prototype.writeUInt32BE=function(e,t,n){E(this,e,t,!1,n)},i.prototype.writeInt8=function(e,t,n){n||(F(null!=e,"missing value"),F(null!=t,"missing offset"),F(t<this.length,"Trying to write beyond buffer length"),L(e,127,-128)),t>=this.length||(e>=0?this.writeUInt8(e,t,n):this.writeUInt8(255+e+1,t,n))},i.prototype.writeInt16LE=function(e,t,n){S(this,e,t,!0,n)},i.prototype.writeInt16BE=function(e,t,n){S(this,e,t,!1,n)},i.prototype.writeInt32LE=function(e,t,n){B(this,e,t,!0,n)},i.prototype.writeInt32BE=function(e,t,n){B(this,e,t,!1,n)},i.prototype.writeFloatLE=function(e,t,n){A(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){A(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){C(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){C(this,e,t,!1,n)},i.prototype.fill=function(e,t,n){if(e||(e=0),t||(t=0),n||(n=this.length),"string"==typeof e&&(e=e.charCodeAt(0)),F("number"==typeof e&&!isNaN(e),"value is not a number"),F(n>=t,"end < start"),n!==t&&0!==this.length){F(t>=0&&t<this.length,"start out of bounds"),F(n>=0&&n<=this.length,"end out of bounds");for(var r=t;r<n;r++)this[r]=e}},i.prototype.inspect=function(){for(var e=[],t=this.length,r=0;r<t;r++)if(e[r]=M(this[r]),r===n.INSPECT_MAX_BYTES){e[r+1]="...";break}return"<Buffer "+e.join(" ")+">"},i.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(i._useTypedArrays)return new i(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;t<n;t+=1)e[t]=this[t];return e.buffer}throw new Error("Buffer.toArrayBuffer not supported in this browser")};var H=i.prototype;i._augment=function(e){return e._isBuffer=!0,e._get=e.get,e._set=e.set,e.get=H.get,e.set=H.set,e.write=H.write,e.toString=H.toString,e.toLocaleString=H.toString,e.toJSON=H.toJSON,e.copy=H.copy,e.slice=H.slice,e.readUInt8=H.readUInt8,e.readUInt16LE=H.readUInt16LE,e.readUInt16BE=H.readUInt16BE,e.readUInt32LE=H.readUInt32LE,e.readUInt32BE=H.readUInt32BE,e.readInt8=H.readInt8,e.readInt16LE=H.readInt16LE,e.readInt16BE=H.readInt16BE,e.readInt32LE=H.readInt32LE,e.readInt32BE=H.readInt32BE,e.readFloatLE=H.readFloatLE,e.readFloatBE=H.readFloatBE,e.readDoubleLE=H.readDoubleLE,e.readDoubleBE=H.readDoubleBE,e.writeUInt8=H.writeUInt8,e.writeUInt16LE=H.writeUInt16LE,e.writeUInt16BE=H.writeUInt16BE,e.writeUInt32LE=H.writeUInt32LE,e.writeUInt32BE=H.writeUInt32BE,e.writeInt8=H.writeInt8,e.writeInt16LE=H.writeInt16LE,e.writeInt16BE=H.writeInt16BE,e.writeInt32LE=H.writeInt32LE,e.writeInt32BE=H.writeInt32BE,e.writeFloatLE=H.writeFloatLE,e.writeFloatBE=H.writeFloatBE,e.writeDoubleLE=H.writeDoubleLE,e.writeDoubleBE=H.writeDoubleBE,e.fill=H.fill,e.inspect=H.inspect,e.toArrayBuffer=H.toArrayBuffer,e}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:11,lYpoI2:10}],4:[function(e,t,n){(function(n,r,i,o,s,a,u,c,f){var i=e("buffer").Buffer,l=4,h=new i(l);h.fill(0);var d=8;t.exports={hash:function(e,t,n,r){return i.isBuffer(e)||(e=new i(e)),function(e,t,n){for(var r=new i(t),o=n?r.writeInt32BE:r.writeInt32LE,s=0;s<e.length;s++)o.call(r,e[s],4*s,!0);return r}(t(function(e,t){if(e.length%l!=0){var n=e.length+(l-e.length%l);e=i.concat([e,h],n)}for(var r=[],o=t?e.readInt32BE:e.readInt32LE,s=0;s<e.length;s+=l)r.push(o.call(e,s));return r}(e,r),e.length*d),n,r)}}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:10}],5:[function(e,t,n){(function(t,r,i,o,s,a,u,c,f){function l(e,t){var n=v[e=e||"sha1"],r=[];return n||h("algorithm:",e,"is not yet supported"),{update:function(e){return i.isBuffer(e)||(e=new i(e)),r.push(e),e.length,this},digest:function(e){var o=i.concat(r),s=t?function(e,t,n){i.isBuffer(t)||(t=new i(t)),i.isBuffer(n)||(n=new i(n)),t.length>w?t=e(t):t.length<w&&(t=i.concat([t,m],w));for(var r=new i(w),o=new i(w),s=0;s<w;s++)r[s]=54^t[s],o[s]=92^t[s];var a=e(i.concat([r,n]));return e(i.concat([o,a]))}(n,t,o):n(o);return r=null,e?s.toString(e):s}}}function h(){var e=[].slice.call(arguments).join(" ");throw new Error([e,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}var i=e("buffer").Buffer,d=e("./sha"),p=e("./sha256"),g=e("./rng"),y=e("./md5"),v={sha1:d,sha256:p,md5:y},w=64,m=new i(w);m.fill(0),n.createHash=function(e){return l(e)},n.createHmac=function(e,t){return l(e,t)},n.randomBytes=function(e,t){if(!t||!t.call)return new i(g(e));try{t.call(this,void 0,new i(g(e)))}catch(e){t(e)}},function(e,t){for(var n in e)t(e[n],n)}(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],function(e){n[e]=function(){h("sorry,",e,"is not implemented yet")}})}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:10}],6:[function(e,t,n){(function(n,r,i,o,s,a,u,c,f){function l(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,s=0;s<e.length;s+=16){var a=n,u=r,c=i,f=o;n=d(n,r,i,o,e[s+0],7,-680876936),o=d(o,n,r,i,e[s+1],12,-389564586),i=d(i,o,n,r,e[s+2],17,606105819),r=d(r,i,o,n,e[s+3],22,-1044525330),n=d(n,r,i,o,e[s+4],7,-176418897),o=d(o,n,r,i,e[s+5],12,1200080426),i=d(i,o,n,r,e[s+6],17,-1473231341),r=d(r,i,o,n,e[s+7],22,-45705983),n=d(n,r,i,o,e[s+8],7,1770035416),o=d(o,n,r,i,e[s+9],12,-1958414417),i=d(i,o,n,r,e[s+10],17,-42063),r=d(r,i,o,n,e[s+11],22,-1990404162),n=d(n,r,i,o,e[s+12],7,1804603682),o=d(o,n,r,i,e[s+13],12,-40341101),i=d(i,o,n,r,e[s+14],17,-1502002290),r=d(r,i,o,n,e[s+15],22,1236535329),n=p(n,r,i,o,e[s+1],5,-165796510),o=p(o,n,r,i,e[s+6],9,-1069501632),i=p(i,o,n,r,e[s+11],14,643717713),r=p(r,i,o,n,e[s+0],20,-373897302),n=p(n,r,i,o,e[s+5],5,-701558691),o=p(o,n,r,i,e[s+10],9,38016083),i=p(i,o,n,r,e[s+15],14,-660478335),r=p(r,i,o,n,e[s+4],20,-405537848),n=p(n,r,i,o,e[s+9],5,568446438),o=p(o,n,r,i,e[s+14],9,-1019803690),i=p(i,o,n,r,e[s+3],14,-187363961),r=p(r,i,o,n,e[s+8],20,1163531501),n=p(n,r,i,o,e[s+13],5,-1444681467),o=p(o,n,r,i,e[s+2],9,-51403784),i=p(i,o,n,r,e[s+7],14,1735328473),r=p(r,i,o,n,e[s+12],20,-1926607734),n=g(n,r,i,o,e[s+5],4,-378558),o=g(o,n,r,i,e[s+8],11,-2022574463),i=g(i,o,n,r,e[s+11],16,1839030562),r=g(r,i,o,n,e[s+14],23,-35309556),n=g(n,r,i,o,e[s+1],4,-1530992060),o=g(o,n,r,i,e[s+4],11,1272893353),i=g(i,o,n,r,e[s+7],16,-155497632),r=g(r,i,o,n,e[s+10],23,-1094730640),n=g(n,r,i,o,e[s+13],4,681279174),o=g(o,n,r,i,e[s+0],11,-358537222),i=g(i,o,n,r,e[s+3],16,-722521979),r=g(r,i,o,n,e[s+6],23,76029189),n=g(n,r,i,o,e[s+9],4,-640364487),o=g(o,n,r,i,e[s+12],11,-421815835),i=g(i,o,n,r,e[s+15],16,530742520),r=g(r,i,o,n,e[s+2],23,-995338651),n=y(n,r,i,o,e[s+0],6,-198630844),o=y(o,n,r,i,e[s+7],10,1126891415),i=y(i,o,n,r,e[s+14],15,-1416354905),r=y(r,i,o,n,e[s+5],21,-57434055),n=y(n,r,i,o,e[s+12],6,1700485571),o=y(o,n,r,i,e[s+3],10,-1894986606),i=y(i,o,n,r,e[s+10],15,-1051523),r=y(r,i,o,n,e[s+1],21,-2054922799),n=y(n,r,i,o,e[s+8],6,1873313359),o=y(o,n,r,i,e[s+15],10,-30611744),i=y(i,o,n,r,e[s+6],15,-1560198380),r=y(r,i,o,n,e[s+13],21,1309151649),n=y(n,r,i,o,e[s+4],6,-145523070),o=y(o,n,r,i,e[s+11],10,-1120210379),i=y(i,o,n,r,e[s+2],15,718787259),r=y(r,i,o,n,e[s+9],21,-343485551),n=v(n,a),r=v(r,u),i=v(i,c),o=v(o,f)}return Array(n,r,i,o)}function h(e,t,n,r,i,o){return v(function(e,t){return e<<t|e>>>32-t}(v(v(t,e),v(r,o)),i),n)}function d(e,t,n,r,i,o,s){return h(t&n|~t&r,e,t,i,o,s)}function p(e,t,n,r,i,o,s){return h(t&r|n&~r,e,t,i,o,s)}function g(e,t,n,r,i,o,s){return h(t^n^r,e,t,i,o,s)}function y(e,t,n,r,i,o,s){return h(n^(t|~r),e,t,i,o,s)}function v(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}var w=e("./helpers");t.exports=function(e){return w.hash(e,l,16)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],7:[function(e,t,n){(function(e,n,r,i,o,s,a,u,c){!function(){var e,n;e=function(e){for(var t,n=new Array(e),r=0;r<e;r++)0==(3&r)&&(t=4294967296*Math.random()),n[r]=t>>>((3&r)<<3)&255;return n},this.crypto&&crypto.getRandomValues&&(n=function(e){var t=new Uint8Array(e);return crypto.getRandomValues(t),t}),t.exports=n||e}()}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:10}],8:[function(e,t,n){(function(n,r,i,o,s,a,u,c,f){function l(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var n=Array(80),r=1732584193,i=-271733879,o=-1732584194,s=271733878,a=-1009589776,u=0;u<e.length;u+=16){for(var c=r,f=i,l=o,y=s,v=a,w=0;w<80;w++){n[w]=w<16?e[u+w]:g(n[w-3]^n[w-8]^n[w-14]^n[w-16],1);var m=p(p(g(r,5),h(w,i,o,s)),p(p(a,n[w]),d(w)));a=s,s=o,o=g(i,30),i=r,r=m}r=p(r,c),i=p(i,f),o=p(o,l),s=p(s,y),a=p(a,v)}return Array(r,i,o,s,a)}function h(e,t,n,r){return e<20?t&n|~t&r:e<40?t^n^r:e<60?t&n|t&r|n&r:t^n^r}function d(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function p(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}function g(e,t){return e<<t|e>>>32-t}var y=e("./helpers");t.exports=function(e){return y.hash(e,l,20,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],9:[function(e,t,n){(function(n,r,i,o,s,a,u,c,f){var l=e("./helpers"),h=function(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n},d=function(e,t){return e>>>t|e<<32-t},p=function(e,t){return e>>>t},g=function(e,t,n){return e&t^~e&n},y=function(e,t,n){return e&t^e&n^t&n},v=function(e){return d(e,2)^d(e,13)^d(e,22)},w=function(e){return d(e,6)^d(e,11)^d(e,25)},m=function(e){return d(e,7)^d(e,18)^p(e,3)},b=function(e){return d(e,17)^d(e,19)^p(e,10)},_=function(e,t){var n,r,i,o,s,a,u,c,f,l,d=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),p=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),_=new Array(64);e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var k=0;k<e.length;k+=16){n=p[0],r=p[1],i=p[2],o=p[3],s=p[4],a=p[5],u=p[6],c=p[7];for(var x=0;x<64;x++)_[x]=x<16?e[x+k]:h(h(h(b(_[x-2]),_[x-7]),m(_[x-15])),_[x-16]),f=h(h(h(h(c,w(s)),g(s,a,u)),d[x]),_[x]),l=h(v(n),y(n,r,i)),c=u,u=a,a=s,s=h(o,f),o=i,i=r,r=n,n=h(f,l);p[0]=h(n,p[0]),p[1]=h(r,p[1]),p[2]=h(i,p[2]),p[3]=h(o,p[3]),p[4]=h(s,p[4]),p[5]=h(a,p[5]),p[6]=h(u,p[6]),p[7]=h(c,p[7])}return p};t.exports=function(e){return l.hash(e,_,32,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],10:[function(e,t,n){(function(e,n,r,i,o,s,a,u,c){function f(){}var e=t.exports={};e.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),n.length>0)){var r=n.shift();r()}},!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),e.title="browser",e.browser=!0,e.env={},e.argv=[],e.on=f,e.addListener=f,e.once=f,e.off=f,e.removeListener=f,e.removeAllListeners=f,e.emit=f,e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:10}],11:[function(e,t,n){(function(e,t,r,i,o,s,a,u,c){n.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,f=-7,l=n?i-1:0,h=n?-1:1,d=e[t+l];for(l+=h,o=d&(1<<-f)-1,d>>=-f,f+=a;f>0;o=256*o+e[t+l],l+=h,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=r;f>0;s=256*s+e[t+l],l+=h,f-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=c}return(d?-1:1)*s*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var s,a,u,c=8*o-i-1,f=(1<<c)-1,l=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+l>=1?h/u:h*Math.pow(2,1-l))*u>=2&&(s++,u/=2),s+l>=f?(a=0,s=f):s+l>=1?(a=(t*u-1)*Math.pow(2,i),s+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;e[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+d]=255&s,d+=p,s/=256,c-=8);e[n+d-p]|=128*g}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/ieee754/index.js","/node_modules/ieee754")},{buffer:3,lYpoI2:10}]},{},[1])(1)},function(e,t,n){parcelRequire=function(t,r,i,o){var s="function"==typeof parcelRequire&&parcelRequire;function a(e,i){if(!r[e]){if(!t[e]){var o="function"==typeof parcelRequire&&parcelRequire;if(!i&&o)return o(e,!0);if(s)return s(e,!0);if("string"==typeof e)return n(8)(e);var u=new Error("Cannot find module '"+e+"'");throw u.code="MODULE_NOT_FOUND",u}f.resolve=function(n){return t[e][1][n]||n},f.cache={};var c=r[e]=new a.Module(e);t[e][0].call(c.exports,f,c,c.exports,this)}return r[e].exports;function f(e){return a(f.resolve(e))}}a.isParcelRequire=!0,a.Module=function(e){this.id=e,this.bundle=a,this.exports={}},a.modules=t,a.cache=r,a.parent=s,a.register=function(e,n){t[e]=[function(e,t){t.exports=n},{}]};for(var u=0;u<i.length;u++)a(i[u]);if(i.length){var c=a(i[i.length-1]);e.exports=c}return a}({vHo1:[function(e,t,n){var r={};r.useBlobBuilder=function(){try{return new Blob([]),!1}catch(e){return!0}}(),r.useArrayBufferView=!r.useBlobBuilder&&function(){try{return 0===new Blob([new Uint8Array([])]).size}catch(e){return!0}}(),t.exports.binaryFeatures=r;var i=t.exports.BlobBuilder;function o(){this._pieces=[],this._parts=[]}"undefined"!=typeof window&&(i=t.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder),o.prototype.append=function(e){"number"==typeof e?this._pieces.push(e):(this.flush(),this._parts.push(e))},o.prototype.flush=function(){if(this._pieces.length>0){var e=new Uint8Array(this._pieces);r.useArrayBufferView||(e=e.buffer),this._parts.push(e),this._pieces=[]}},o.prototype.getBuffer=function(){if(this.flush(),r.useBlobBuilder){for(var e=new i,t=0,n=this._parts.length;t<n;t++)e.append(this._parts[t]);return e.getBlob()}return new Blob(this._parts)},t.exports.BufferBuilder=o},{}],lHOc:[function(e,t,n){var r=e("./bufferbuilder").BufferBuilder,i=e("./bufferbuilder").binaryFeatures,o={unpack:function(e){return new s(e).unpack()},pack:function(e){var t=new a;return t.pack(e),t.getBuffer()}};function s(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}function a(){this.bufferBuilder=new r}function u(e){var t=e.charCodeAt(0);return t<=2047?"00":t<=65535?"000":t<=2097151?"0000":t<=67108863?"00000":"000000"}t.exports=o,s.prototype.unpack=function(){var e,t=this.unpack_uint8();if(t<128)return t;if((224^t)<32)return(224^t)-32;if((e=160^t)<=15)return this.unpack_raw(e);if((e=176^t)<=15)return this.unpack_string(e);if((e=144^t)<=15)return this.unpack_array(e);if((e=128^t)<=15)return this.unpack_map(e);switch(t){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:case 213:case 214:case 215:return;case 216:return e=this.unpack_uint16(),this.unpack_string(e);case 217:return e=this.unpack_uint32(),this.unpack_string(e);case 218:return e=this.unpack_uint16(),this.unpack_raw(e);case 219:return e=this.unpack_uint32(),this.unpack_raw(e);case 220:return e=this.unpack_uint16(),this.unpack_array(e);case 221:return e=this.unpack_uint32(),this.unpack_array(e);case 222:return e=this.unpack_uint16(),this.unpack_map(e);case 223:return e=this.unpack_uint32(),this.unpack_map(e)}},s.prototype.unpack_uint8=function(){var e=255&this.dataView[this.index];return this.index++,e},s.prototype.unpack_uint16=function(){var e=this.read(2),t=256*(255&e[0])+(255&e[1]);return this.index+=2,t},s.prototype.unpack_uint32=function(){var e=this.read(4),t=256*(256*(256*e[0]+e[1])+e[2])+e[3];return this.index+=4,t},s.prototype.unpack_uint64=function(){var e=this.read(8),t=256*(256*(256*(256*(256*(256*(256*e[0]+e[1])+e[2])+e[3])+e[4])+e[5])+e[6])+e[7];return this.index+=8,t},s.prototype.unpack_int8=function(){var e=this.unpack_uint8();return e<128?e:e-256},s.prototype.unpack_int16=function(){var e=this.unpack_uint16();return e<32768?e:e-65536},s.prototype.unpack_int32=function(){var e=this.unpack_uint32();return e<Math.pow(2,31)?e:e-Math.pow(2,32)},s.prototype.unpack_int64=function(){var e=this.unpack_uint64();return e<Math.pow(2,63)?e:e-Math.pow(2,64)},s.prototype.unpack_raw=function(e){if(this.length<this.index+e)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+e+" "+this.length);var t=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,t},s.prototype.unpack_string=function(e){for(var t,n,r=this.read(e),i=0,o="";i<e;)(t=r[i])<128?(o+=String.fromCharCode(t),i++):(192^t)<32?(n=(192^t)<<6|63&r[i+1],o+=String.fromCharCode(n),i+=2):(n=(15&t)<<12|(63&r[i+1])<<6|63&r[i+2],o+=String.fromCharCode(n),i+=3);return this.index+=e,o},s.prototype.unpack_array=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=this.unpack();return t},s.prototype.unpack_map=function(e){for(var t={},n=0;n<e;n++){var r=this.unpack(),i=this.unpack();t[r]=i}return t},s.prototype.unpack_float=function(){var e=this.unpack_uint32(),t=(e>>23&255)-127;return(0==e>>31?1:-1)*(8388607&e|8388608)*Math.pow(2,t-23)},s.prototype.unpack_double=function(){var e=this.unpack_uint32(),t=this.unpack_uint32(),n=(e>>20&2047)-1023;return(0==e>>31?1:-1)*((1048575&e|1048576)*Math.pow(2,n-20)+t*Math.pow(2,n-52))},s.prototype.read=function(e){var t=this.index;if(t+e<=this.length)return this.dataView.subarray(t,t+e);throw new Error("BinaryPackFailure: read index out of range")},a.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},a.prototype.pack=function(e){var t=typeof e;if("string"==t)this.pack_string(e);else if("number"==t)Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if("boolean"==t)!0===e?this.bufferBuilder.append(195):!1===e&&this.bufferBuilder.append(194);else if("undefined"==t)this.bufferBuilder.append(192);else{if("object"!=t)throw new Error('Type "'+t+'" not yet supported');if(null===e)this.bufferBuilder.append(192);else{var n=e.constructor;if(n==Array)this.pack_array(e);else if(n==Blob||n==File)this.pack_bin(e);else if(n==ArrayBuffer)i.useArrayBufferView?this.pack_bin(new Uint8Array(e)):this.pack_bin(e);else if("BYTES_PER_ELEMENT"in e)i.useArrayBufferView?this.pack_bin(new Uint8Array(e.buffer)):this.pack_bin(e.buffer);else if(n==Object)this.pack_object(e);else if(n==Date)this.pack_string(e.toString());else{if("function"!=typeof e.toBinaryPack)throw new Error('Type "'+n.toString()+'" not yet supported');this.bufferBuilder.append(e.toBinaryPack())}}}this.bufferBuilder.flush()},a.prototype.pack_bin=function(e){var t=e.length||e.byteLength||e.size;if(t<=15)this.pack_uint8(160+t);else if(t<=65535)this.bufferBuilder.append(218),this.pack_uint16(t);else{if(!(t<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(219),this.pack_uint32(t)}this.bufferBuilder.append(e)},a.prototype.pack_string=function(e){var t=function(e){return e.length>600?new Blob([e]).size:e.replace(/[^\u0000-\u007F]/g,u).length}(e);if(t<=15)this.pack_uint8(176+t);else if(t<=65535)this.bufferBuilder.append(216),this.pack_uint16(t);else{if(!(t<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(217),this.pack_uint32(t)}this.bufferBuilder.append(e)},a.prototype.pack_array=function(e){var t=e.length;if(t<=15)this.pack_uint8(144+t);else if(t<=65535)this.bufferBuilder.append(220),this.pack_uint16(t);else{if(!(t<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(221),this.pack_uint32(t)}for(var n=0;n<t;n++)this.pack(e[n])},a.prototype.pack_integer=function(e){if(-32<=e&&e<=127)this.bufferBuilder.append(255&e);else if(0<=e&&e<=255)this.bufferBuilder.append(204),this.pack_uint8(e);else if(-128<=e&&e<=127)this.bufferBuilder.append(208),this.pack_int8(e);else if(0<=e&&e<=65535)this.bufferBuilder.append(205),this.pack_uint16(e);else if(-32768<=e&&e<=32767)this.bufferBuilder.append(209),this.pack_int16(e);else if(0<=e&&e<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(e);else if(-2147483648<=e&&e<=2147483647)this.bufferBuilder.append(210),this.pack_int32(e);else if(-0x8000000000000000<=e&&e<=0x8000000000000000)this.bufferBuilder.append(211),this.pack_int64(e);else{if(!(0<=e&&e<=0x10000000000000000))throw new Error("Invalid integer");this.bufferBuilder.append(207),this.pack_uint64(e)}},a.prototype.pack_double=function(e){var t=0;e<0&&(t=1,e=-e);var n=Math.floor(Math.log(e)/Math.LN2),r=e/Math.pow(2,n)-1,i=Math.floor(r*Math.pow(2,52)),o=Math.pow(2,32),s=t<<31|n+1023<<20|i/o&1048575,a=i%o;this.bufferBuilder.append(203),this.pack_int32(s),this.pack_int32(a)},a.prototype.pack_object=function(e){var t=Object.keys(e).length;if(t<=15)this.pack_uint8(128+t);else if(t<=65535)this.bufferBuilder.append(222),this.pack_uint16(t);else{if(!(t<=4294967295))throw new Error("Invalid length");this.bufferBuilder.append(223),this.pack_uint32(t)}for(var n in e)e.hasOwnProperty(n)&&(this.pack(n),this.pack(e[n]))},a.prototype.pack_uint8=function(e){this.bufferBuilder.append(e)},a.prototype.pack_uint16=function(e){this.bufferBuilder.append(e>>8),this.bufferBuilder.append(255&e)},a.prototype.pack_uint32=function(e){var t=4294967295&e;this.bufferBuilder.append((4278190080&t)>>>24),this.bufferBuilder.append((16711680&t)>>>16),this.bufferBuilder.append((65280&t)>>>8),this.bufferBuilder.append(255&t)},a.prototype.pack_uint64=function(e){var t=e/Math.pow(2,32),n=e%Math.pow(2,32);this.bufferBuilder.append((4278190080&t)>>>24),this.bufferBuilder.append((16711680&t)>>>16),this.bufferBuilder.append((65280&t)>>>8),this.bufferBuilder.append(255&t),this.bufferBuilder.append((4278190080&n)>>>24),this.bufferBuilder.append((16711680&n)>>>16),this.bufferBuilder.append((65280&n)>>>8),this.bufferBuilder.append(255&n)},a.prototype.pack_int8=function(e){this.bufferBuilder.append(255&e)},a.prototype.pack_int16=function(e){this.bufferBuilder.append((65280&e)>>8),this.bufferBuilder.append(255&e)},a.prototype.pack_int32=function(e){this.bufferBuilder.append(e>>>24&255),this.bufferBuilder.append((16711680&e)>>>16),this.bufferBuilder.append((65280&e)>>>8),this.bufferBuilder.append(255&e)},a.prototype.pack_int64=function(e){var t=Math.floor(e/Math.pow(2,32)),n=e%Math.pow(2,32);this.bufferBuilder.append((4278190080&t)>>>24),this.bufferBuilder.append((16711680&t)>>>16),this.bufferBuilder.append((65280&t)>>>8),this.bufferBuilder.append(255&t),this.bufferBuilder.append((4278190080&n)>>>24),this.bufferBuilder.append((16711680&n)>>>16),this.bufferBuilder.append((65280&n)>>>8),this.bufferBuilder.append(255&n)}},{"./bufferbuilder":"vHo1"}],sXtV:[function(e,t,n){"use strict";n.__esModule=!0,n.RTCSessionDescription=window.RTCSessionDescription||window.mozRTCSessionDescription,n.RTCPeerConnection=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection,n.RTCIceCandidate=window.RTCIceCandidate||window.mozRTCIceCandidate},{}],BHXf:[function(e,t,n){arguments[3],arguments[3];var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};n.__esModule=!0;var i={iceServers:[{urls:"stun:stun.l.google.com:19302"}]},o=1,s=r(e("js-binarypack")),a=e("./adapter");n.util={noop:function(){},CLOUD_HOST:"0.peerjs.com",CLOUD_PORT:443,chunkedBrowsers:{Chrome:1},chunkedMTU:16300,logLevel:0,setLogLevel:function(e){var t=parseInt(e,10);isNaN(parseInt(e,10))?n.util.logLevel=e?3:0:n.util.logLevel=t,n.util.log=n.util.warn=n.util.error=n.util.noop,n.util.logLevel>0&&(n.util.error=n.util._printWith("ERROR")),n.util.logLevel>1&&(n.util.warn=n.util._printWith("WARNING")),n.util.logLevel>2&&(n.util.log=n.util._print)},setLogFunction:function(e){e.constructor!==Function?n.util.warn("The log function you passed in is not a function. Defaulting to regular logs."):n.util._print=e},_printWith:function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e),n.util._print.apply(n.util,t)}},_print:function(){var e=!1,t=Array.prototype.slice.call(arguments);t.unshift("PeerJS: ");for(var n=0,r=t.length;n<r;n++)t[n]instanceof Error&&(t[n]="("+t[n].name+") "+t[n].message,e=!0);e?console.error.apply(console,t):console.log.apply(console,t)},defaultConfig:i,browser:window.mozRTCPeerConnection?"Firefox":window.webkitRTCPeerConnection?"Chrome":window.RTCPeerConnection?"Supported":"Unsupported",supports:function(){if(void 0===a.RTCPeerConnection)return{};var e,t,n=!0,r=!0,o=!1,s=!1,u=!!window.webkitRTCPeerConnection;try{e=new a.RTCPeerConnection(i,{optional:[{RtpDataChannels:!0}]})}catch(e){n=!1,r=!1}if(n)try{t=e.createDataChannel("_PEERJSTEST")}catch(e){n=!1}if(n){try{t.binaryType="blob",o=!0}catch(e){}var c=new a.RTCPeerConnection(i,{});try{s=c.createDataChannel("_PEERJSRELIABLETEST",{}).reliable}catch(e){}c.close()}return r&&(r=!!e.addStream),e&&e.close(),{audioVideo:r,data:n,binaryBlob:o,binary:s,reliable:s,sctp:s,onnegotiationneeded:u}}(),validateId:function(e){return!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.exec(e)},validateKey:function(e){return!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.exec(e)},debug:!1,inherits:function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},extend:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},pack:s.default.pack,unpack:s.default.unpack,log:function(){if(n.util.debug){var e=!1,t=Array.prototype.slice.call(arguments);t.unshift("PeerJS: ");for(var r=0,i=t.length;r<i;r++)t[r]instanceof Error&&(t[r]="("+t[r].name+") "+t[r].message,e=!0);e?console.error.apply(console,t):console.log.apply(console,t)}},setZeroTimeout:function(e){var t=[],n="zero-timeout-message";function r(r){r.source==e&&r.data==n&&(r.stopPropagation&&r.stopPropagation(),t.length&&t.shift()())}return e.addEventListener?e.addEventListener("message",r,!0):e.attachEvent&&e.attachEvent("onmessage",r),function(r){t.push(r),e.postMessage(n,"*")}}(window),chunk:function(e){for(var t,r=[],i=e.size,s=t=0,a=Math.ceil(i/n.util.chunkedMTU);s<i;){var u=Math.min(i,s+n.util.chunkedMTU),c=e.slice(s,u),f={__peerData:o,n:t,data:c,total:a};r.push(f),s=u,t+=1}return o+=1,r},blobToArrayBuffer:function(e,t){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.readAsArrayBuffer(e)},blobToBinaryString:function(e,t){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.readAsBinaryString(e)},binaryStringToArrayBuffer:function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=255&e.charCodeAt(n);return t.buffer},randomToken:function(){return Math.random().toString(36).substr(2)},isSecure:function(){return"https:"===location.protocol}}},{"js-binarypack":"lHOc","./adapter":"sXtV"}],"2JJl":[function(e,t,n){"use strict";function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(){}i.prototype._events=void 0,i.prototype.listeners=function(e){if(!this._events||!this._events[e])return[];if(this._events[e].fn)return[this._events[e].fn];for(var t=0,n=this._events[e].length,r=new Array(n);t<n;t++)r[t]=this._events[e][t].fn;return r},i.prototype.emit=function(e,t,n,r,i,o){if(!this._events||!this._events[e])return!1;var s,a,u=this._events[e],c=arguments.length;if("function"==typeof u.fn){switch(u.once&&this.removeListener(e,u.fn,!0),c){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,r),!0;case 5:return u.fn.call(u.context,t,n,r,i),!0;case 6:return u.fn.call(u.context,t,n,r,i,o),!0}for(a=1,s=new Array(c-1);a<c;a++)s[a-1]=arguments[a];u.fn.apply(u.context,s)}else{var f,l=u.length;for(a=0;a<l;a++)switch(u[a].once&&this.removeListener(e,u[a].fn,!0),c){case 1:u[a].fn.call(u[a].context);break;case 2:u[a].fn.call(u[a].context,t);break;case 3:u[a].fn.call(u[a].context,t,n);break;default:if(!s)for(f=1,s=new Array(c-1);f<c;f++)s[f-1]=arguments[f];u[a].fn.apply(u[a].context,s)}}return!0},i.prototype.on=function(e,t,n){var i=new r(t,n||this);return this._events||(this._events={}),this._events[e]?this._events[e].fn?this._events[e]=[this._events[e],i]:this._events[e].push(i):this._events[e]=i,this},i.prototype.once=function(e,t,n){var i=new r(t,n||this,!0);return this._events||(this._events={}),this._events[e]?this._events[e].fn?this._events[e]=[this._events[e],i]:this._events[e].push(i):this._events[e]=i,this},i.prototype.removeListener=function(e,t,n){if(!this._events||!this._events[e])return this;var r=this._events[e],i=[];if(t&&(r.fn&&(r.fn!==t||n&&!r.once)&&i.push(r),!r.fn))for(var o=0,s=r.length;o<s;o++)(r[o].fn!==t||n&&!r[o].once)&&i.push(r[o]);return i.length?this._events[e]=1===i.length?i[0]:i:delete this._events[e],this},i.prototype.removeAllListeners=function(e){return this._events?(e?delete this._events[e]:this._events={},this):this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prototype.setMaxListeners=function(){return this},i.EventEmitter=i,i.EventEmitter2=i,i.EventEmitter3=i,t.exports=i},{}],wJlv:[function(e,t,n){"use strict";n.__esModule=!0;var r=e("./util"),i=e("eventemitter3");function o(e,t,n,r,s,a){if(!(this instanceof o))return new o(e,t,n,r,s,a);a=a||n,i.EventEmitter.call(this),this.disconnected=!1,this._queue=[];var u=e?"https://":"http://",c=e?"wss://":"ws://";this._httpUrl=u+t+":"+n+r+s,this._wsUrl=c+t+":"+a+r+"peerjs?key="+s}n.Socket=o,r.util.inherits(o,i.EventEmitter),o.prototype.start=function(e,t){this.id=e,this._httpUrl+="/"+e+"/"+t,this._wsUrl+="&id="+e+"&token="+t,this._startXhrStream(),this._startWebSocket()},o.prototype._startWebSocket=function(e){var t=this;this._socket||(this._socket=new WebSocket(this._wsUrl),this._socket.onmessage=function(e){try{var n=JSON.parse(e.data)}catch(t){return void r.util.log("Invalid server message",e.data)}t.emit("message",n)},this._socket.onclose=function(e){r.util.log("Socket closed."),t.disconnected=!0,t.emit("disconnected")},this._socket.onopen=function(){t._timeout&&(clearTimeout(t._timeout),setTimeout(function(){t._http.abort(),t._http=null},5e3)),t._sendQueuedMessages(),r.util.log("Socket open")})},o.prototype._startXhrStream=function(e){try{var t=this;this._http=new XMLHttpRequest,this._http._index=1,this._http._streamIndex=e||0,this._http.open("post",this._httpUrl+"/id?i="+this._http._streamIndex,!0),this._http.onerror=function(){clearTimeout(t._timeout),t.emit("disconnected")},this._http.onreadystatechange=function(){2==this.readyState&&this.old?(this.old.abort(),delete this.old):this.readyState>2&&200===this.status&&this.responseText&&t._handleStream(this)},this._http.send(null),this._setHTTPTimeout()}catch(e){r.util.log("XMLHttpRequest not available; defaulting to WebSockets")}},o.prototype._handleStream=function(e){var t=e.responseText.split("\n");if(e._buffer)for(;e._buffer.length>0;){var n=e._buffer.shift(),i=t[n];try{i=JSON.parse(i)}catch(t){e._buffer.shift(n);break}this.emit("message",i)}var o=t[e._index];if(o)if(e._index+=1,e._index===t.length)e._buffer||(e._buffer=[]),e._buffer.push(e._index-1);else{try{o=JSON.parse(o)}catch(e){return void r.util.log("Invalid server message",o)}this.emit("message",o)}},o.prototype._setHTTPTimeout=function(){var e=this;this._timeout=setTimeout(function(){var t=e._http;e._wsOpen()?t.abort():(e._startXhrStream(t._streamIndex+1),e._http.old=t)},25e3)},o.prototype._wsOpen=function(){return this._socket&&1==this._socket.readyState},o.prototype._sendQueuedMessages=function(){for(var e=0,t=this._queue.length;e<t;e+=1)this.send(this._queue[e])},o.prototype.send=function(e){if(!this.disconnected)if(this.id)if(e.type){var t=JSON.stringify(e);if(this._wsOpen())this._socket.send(t);else{var n=new XMLHttpRequest,r=this._httpUrl+"/"+e.type.toLowerCase();n.open("post",r,!0),n.setRequestHeader("Content-Type","application/json"),n.send(t)}}else this.emit("error","Invalid message");else this._queue.push(e)},o.prototype.close=function(){!this.disconnected&&this._wsOpen()&&(this._socket.close(),this.disconnected=!0)}},{"./util":"BHXf",eventemitter3:"2JJl"}],HCdX:[function(e,t,n){"use strict";n.__esModule=!0;var r=e("./util"),i=e("./adapter");function o(e,t){"addTrack"in t?e.getTracks().forEach(function(n){t.addTrack(n,e)}):"addStream"in t&&t.addStream(e)}n.Negotiator={pcs:{data:{},media:{}},queue:[]},n.Negotiator._idPrefix="pc_",n.Negotiator.startConnection=function(e,t){var i=n.Negotiator._getPeerConnection(e,t);if(e.pc=e.peerConnection=i,"media"===e.type&&t._stream&&o(t._stream,i),t.originator){if("data"===e.type){var s={};r.util.supports.sctp||(s={reliable:t.reliable});var a=i.createDataChannel(e.label,s);e.initialize(a)}n.Negotiator._makeOffer(e)}else n.Negotiator.handleSDP("OFFER",e,t.sdp)},n.Negotiator._getPeerConnection=function(e,t){var i;return n.Negotiator.pcs[e.type]||r.util.error(e.type+" is not a valid connection type. Maybe you overrode the `type` property somewhere."),n.Negotiator.pcs[e.type][e.peer]||(n.Negotiator.pcs[e.type][e.peer]={}),n.Negotiator.pcs[e.type][e.peer],t.pc&&(i=n.Negotiator.pcs[e.type][e.peer][t.pc]),i&&"stable"===i.signalingState||(i=n.Negotiator._startPeerConnection(e)),i},n.Negotiator._startPeerConnection=function(e){r.util.log("Creating RTCPeerConnection.");var t=n.Negotiator._idPrefix+r.util.randomToken(),o={};"data"!==e.type||r.util.supports.sctp?"media"===e.type&&(o={optional:[{DtlsSrtpKeyAgreement:!0}]}):o={optional:[{RtpDataChannels:!0}]};var s=new i.RTCPeerConnection(e.provider.options.config,o);return n.Negotiator.pcs[e.type][e.peer][t]=s,n.Negotiator._setupListeners(e,s,t),s},n.Negotiator._setupListeners=function(e,t,n){var i=e.peer,s=e.id,a=e.provider;r.util.log("Listening for ICE candidates."),t.onicecandidate=function(t){t.candidate&&(r.util.log("Received ICE candidates for:",e.peer),a.socket.send({type:"CANDIDATE",payload:{candidate:t.candidate,type:e.type,connectionId:e.id},dst:i}))},t.oniceconnectionstatechange=function(){switch(t.iceConnectionState){case"failed":r.util.log("iceConnectionState is disconnected, closing connections to "+i),e.emit("error",new Error("Negotiation of connection to "+i+" failed.")),e.close();break;case"disconnected":r.util.log("iceConnectionState is disconnected, closing connections to "+i);break;case"completed":t.onicecandidate=r.util.noop}},t.onicechange=t.oniceconnectionstatechange,r.util.log("Listening for data channel"),t.ondatachannel=function(e){r.util.log("Received data channel");var t=e.channel;a.getConnection(i,s).initialize(t)},r.util.log("Listening for remote stream"),t.ontrack=function(e){r.util.log("Received remote stream");var t=e.streams[0],n=a.getConnection(i,s);"media"===n.type&&o(t,n)}},n.Negotiator.cleanup=function(e){r.util.log("Cleaning up PeerConnection to "+e.peer);var t=e.pc;t&&(t.readyState&&"closed"!==t.readyState||"closed"!==t.signalingState)&&(t.close(),e.pc=null)},n.Negotiator._makeOffer=function(e){var t=e.pc,n=function(n){r.util.log("Created offer."),!r.util.supports.sctp&&"data"===e.type&&e.reliable&&(n.sdp=Reliable.higherBandwidthSDP(n.sdp)),t.setLocalDescription(n).then(function(){return r.util.log("Set localDescription: offer","for:",e.peer),void e.provider.socket.send({type:"OFFER",payload:{sdp:n,type:e.type,label:e.label,connectionId:e.id,reliable:e.reliable,serialization:e.serialization,metadata:e.metadata,browser:r.util.browser},dst:e.peer})}).catch(function(t){return function(t){"OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"!=t&&(e.provider.emitError("webrtc",t),r.util.log("Failed to setLocalDescription, ",t))}(t)})};t.createOffer(e.options.constraints).then(function(e){return n(e)}).catch(function(t){return function(t){e.provider.emitError("webrtc",t),r.util.log("Failed to createOffer, ",t)}(t)})},n.Negotiator._makeAnswer=function(e){var t=e.pc,n=function(n){r.util.log("Created answer."),!r.util.supports.sctp&&"data"===e.type&&e.reliable&&(n.sdp=Reliable.higherBandwidthSDP(n.sdp)),t.setLocalDescription(n).then(function(){return r.util.log("Set localDescription: answer","for:",e.peer),void e.provider.socket.send({type:"ANSWER",payload:{sdp:n,type:e.type,connectionId:e.id,browser:r.util.browser},dst:e.peer})}).catch(function(t){e.provider.emitError("webrtc",t),r.util.log("Failed to setLocalDescription, ",t)})};t.createAnswer().then(function(e){return n(e)}).catch(function(t){e.provider.emitError("webrtc",t),r.util.log("Failed to create answer, ",t)})},n.Negotiator.handleSDP=function(e,t,o){o=new i.RTCSessionDescription(o);var s=t.pc;r.util.log("Setting remote description",o),s.setRemoteDescription(o).then(function(){return r.util.log("Set remoteDescription:",e,"for:",t.peer),void("OFFER"===e&&n.Negotiator._makeAnswer(t))}).catch(function(e){t.provider.emitError("webrtc",e),r.util.log("Failed to setRemoteDescription, ",e)})},n.Negotiator.handleCandidate=function(e,t){var n=t.candidate,o=t.sdpMLineIndex;e.pc.addIceCandidate(new i.RTCIceCandidate({sdpMLineIndex:o,candidate:n})),r.util.log("Added ICE candidate for:",e.peer)}},{"./util":"BHXf","./adapter":"sXtV"}],dbHP:[function(e,t,n){"use strict";n.__esModule=!0;var r=e("./util"),i=e("eventemitter3"),o=e("./negotiator");function s(e,t,n){if(!(this instanceof s))return new s(e,t,n);i.EventEmitter.call(this),this.options=r.util.extend({},n),this.open=!1,this.type="media",this.peer=e,this.provider=t,this.metadata=this.options.metadata,this.localStream=this.options._stream,this.id=this.options.connectionId||s._idPrefix+r.util.randomToken(),this.localStream&&o.Negotiator.startConnection(this,{_stream:this.localStream,originator:!0})}n.MediaConnection=s,r.util.inherits(s,i.EventEmitter),s._idPrefix="mc_",s.prototype.addStream=function(e){r.util.log("Receiving stream",e),this.remoteStream=e,this.emit("stream",e)},s.prototype.handleMessage=function(e){var t=e.payload;switch(e.type){case"ANSWER":o.Negotiator.handleSDP(e.type,this,t.sdp),this.open=!0;break;case"CANDIDATE":o.Negotiator.handleCandidate(this,t.candidate);break;default:r.util.warn("Unrecognized message type:",e.type,"from peer:",this.peer)}},s.prototype.answer=function(e){if(this.localStream)r.util.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");else{this.options._payload._stream=e,this.localStream=e,o.Negotiator.startConnection(this,this.options._payload);for(var t=this.provider._getMessages(this.id),n=0,i=t.length;n<i;n+=1)this.handleMessage(t[n]);this.open=!0}},s.prototype.close=function(){this.open&&(this.open=!1,o.Negotiator.cleanup(this),this.emit("close"))}},{"./util":"BHXf",eventemitter3:"2JJl","./negotiator":"HCdX"}],T9kO:[function(e,t,n){arguments[3],arguments[3];var r=e("js-binarypack"),i={debug:!1,inherits:function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},extend:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},pack:r.pack,unpack:r.unpack,log:function(){if(i.debug){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.unshift("Reliable: "),console.log.apply(console,e)}},setZeroTimeout:function(e){var t=[],n="zero-timeout-message";function r(r){r.source==e&&r.data==n&&(r.stopPropagation&&r.stopPropagation(),t.length&&t.shift()())}return e.addEventListener?e.addEventListener("message",r,!0):e.attachEvent&&e.attachEvent("onmessage",r),function(r){t.push(r),e.postMessage(n,"*")}}(this),blobToArrayBuffer:function(e,t){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.readAsArrayBuffer(e)},blobToBinaryString:function(e,t){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.readAsBinaryString(e)},binaryStringToArrayBuffer:function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=255&e.charCodeAt(n);return t.buffer},randomToken:function(){return Math.random().toString(36).substr(2)}};t.exports=i},{"js-binarypack":"lHOc"}],aYFJ:[function(e,t,n){var r=e("./util");function i(e,t){if(!(this instanceof i))return new i(e);this._dc=e,r.debug=t,this._outgoing={},this._incoming={},this._received={},this._window=1e3,this._mtu=500,this._interval=0,this._count=0,this._queue=[],this._setupDC()}i.prototype.send=function(e){var t=r.pack(e);t.size<this._mtu?this._handleSend(["no",t]):(this._outgoing[this._count]={ack:0,chunks:this._chunk(t)},r.debug&&(this._outgoing[this._count].timer=new Date),this._sendWindowedChunks(this._count),this._count+=1)},i.prototype._setupInterval=function(){var e=this;this._timeout=setInterval(function(){var t=e._queue.shift();if(t._multiple)for(var n=0,r=t.length;n<r;n+=1)e._intervalSend(t[n]);else e._intervalSend(t)},this._interval)},i.prototype._intervalSend=function(e){var t=this;e=r.pack(e),r.blobToBinaryString(e,function(e){t._dc.send(e)}),0===t._queue.length&&(clearTimeout(t._timeout),t._timeout=null)},i.prototype._processAcks=function(){for(var e in this._outgoing)this._outgoing.hasOwnProperty(e)&&this._sendWindowedChunks(e)},i.prototype._handleSend=function(e){for(var t=!0,n=0,r=this._queue.length;n<r;n+=1){var i=this._queue[n];i===e?t=!1:i._multiple&&-1!==i.indexOf(e)&&(t=!1)}t&&(this._queue.push(e),this._timeout||this._setupInterval())},i.prototype._setupDC=function(){var e=this;this._dc.onmessage=function(t){var n=t.data;if(n.constructor===String){var i=r.binaryStringToArrayBuffer(n);n=r.unpack(i),e._handleMessage(n)}}},i.prototype._handleMessage=function(e){var t,n=e[1],i=this._incoming[n],o=this._outgoing[n];switch(e[0]){case"no":var s=n;s&&this.onmessage(r.unpack(s));break;case"end":if(t=i,this._received[n]=e[2],!t)break;this._ack(n);break;case"ack":if(t=o){var a=e[2];t.ack=Math.max(a,t.ack),t.ack>=t.chunks.length?(r.log("Time: ",new Date-t.timer),delete this._outgoing[n]):this._processAcks()}break;case"chunk":if(!(t=i)){if(!0===this._received[n])break;t={ack:["ack",n,0],chunks:[]},this._incoming[n]=t}var u=e[2],c=e[3];t.chunks[u]=new Uint8Array(c),u===t.ack[2]&&this._calculateNextAck(n),this._ack(n);break;default:this._handleSend(e)}},i.prototype._chunk=function(e){for(var t=[],n=e.size,i=0;i<n;){var o=Math.min(n,i+this._mtu),s={payload:e.slice(i,o)};t.push(s),i=o}return r.log("Created",t.length,"chunks."),t},i.prototype._ack=function(e){var t=this._incoming[e].ack;this._received[e]===t[2]&&(this._complete(e),this._received[e]=!0),this._handleSend(t)},i.prototype._calculateNextAck=function(e){for(var t=this._incoming[e],n=t.chunks,r=0,i=n.length;r<i;r+=1)if(void 0===n[r])return void(t.ack[2]=r);t.ack[2]=n.length},i.prototype._sendWindowedChunks=function(e){r.log("sendWindowedChunks for: ",e);for(var t=this._outgoing[e],n=t.chunks,i=[],o=Math.min(t.ack+this._window,n.length),s=t.ack;s<o;s+=1)n[s].sent&&s!==t.ack||(n[s].sent=!0,i.push(["chunk",e,s,n[s].payload]));t.ack+this._window>=n.length&&i.push(["end",e,n.length]),i._multiple=!0,this._handleSend(i)},i.prototype._complete=function(e){r.log("Completed called for",e);var t=this,n=this._incoming[e].chunks,i=new Blob(n);r.blobToArrayBuffer(i,function(e){t.onmessage(r.unpack(e))}),delete this._incoming[e]},i.higherBandwidthSDP=function(e){var t=navigator.appVersion.match(/Chrome\/(.*?) /);if(t&&(t=parseInt(t[1].split(".").shift()))<31){var n=e.split("b=AS:30");if(n.length>1)return n[0]+"b=AS:102400"+n[1]}return e},i.prototype.onmessage=function(e){},t.exports.Reliable=i},{"./util":"T9kO"}],GBTQ:[function(e,t,n){"use strict";n.__esModule=!0;var r=e("./util"),i=e("eventemitter3"),o=e("./negotiator"),s=e("reliable");function a(e,t,n){if(!(this instanceof a))return new a(e,t,n);i.EventEmitter.call(this),this.options=r.util.extend({serialization:"binary",reliable:!1},n),this.open=!1,this.type="data",this.peer=e,this.provider=t,this.id=this.options.connectionId||a._idPrefix+r.util.randomToken(),this.label=this.options.label||this.id,this.metadata=this.options.metadata,this.serialization=this.options.serialization,this.reliable=this.options.reliable,this._buffer=[],this._buffering=!1,this.bufferSize=0,this._chunkedData={},this.options._payload&&(this._peerBrowser=this.options._payload.browser),o.Negotiator.startConnection(this,this.options._payload||{originator:!0})}n.DataConnection=a,r.util.inherits(a,i.EventEmitter),a._idPrefix="dc_",a.prototype.initialize=function(e){this._dc=this.dataChannel=e,this._configureDataChannel()},a.prototype._configureDataChannel=function(){var e=this;r.util.supports.sctp&&(this._dc.binaryType="arraybuffer"),this._dc.onopen=function(){r.util.log("Data channel connection success"),e.open=!0,e.emit("open")},!r.util.supports.sctp&&this.reliable&&(this._reliable=new s.Reliable(this._dc,r.util.debug)),this._reliable?this._reliable.onmessage=function(t){e.emit("data",t)}:this._dc.onmessage=function(t){e._handleDataMessage(t)},this._dc.onclose=function(t){r.util.log("DataChannel closed for:",e.peer),e.close()}},a.prototype._handleDataMessage=function(e){var t=this,n=e.data,i=n.constructor;if("binary"===this.serialization||"binary-utf8"===this.serialization){if(i===Blob)return void r.util.blobToArrayBuffer(n,function(e){n=r.util.unpack(e),t.emit("data",n)});if(i===ArrayBuffer)n=r.util.unpack(n);else if(i===String){var o=r.util.binaryStringToArrayBuffer(n);n=r.util.unpack(o)}}else"json"===this.serialization&&(n=JSON.parse(n));if(n.__peerData){var s=n.__peerData,a=this._chunkedData[s]||{data:[],count:0,total:n.total};return a.data[n.n]=n.data,a.count+=1,a.total===a.count&&(delete this._chunkedData[s],n=new Blob(a.data),this._handleDataMessage({data:n})),void(this._chunkedData[s]=a)}this.emit("data",n)},a.prototype.close=function(){this.open&&(this.open=!1,o.Negotiator.cleanup(this),this.emit("close"))},a.prototype.send=function(e,t){if(this.open)if(this._reliable)this._reliable.send(e);else{var n=this;if("json"===this.serialization)this._bufferedSend(JSON.stringify(e));else if("binary"===this.serialization||"binary-utf8"===this.serialization){var i=r.util.pack(e);if((r.util.chunkedBrowsers[this._peerBrowser]||r.util.chunkedBrowsers[r.util.browser])&&!t&&i.size>r.util.chunkedMTU)return void this._sendChunks(i);r.util.supports.sctp?r.util.supports.binaryBlob?this._bufferedSend(i):r.util.blobToArrayBuffer(i,function(e){n._bufferedSend(e)}):r.util.blobToBinaryString(i,function(e){n._bufferedSend(e)})}else this._bufferedSend(e)}else this.emit("error",new Error("Connection is not open. You should listen for the `open` event before sending messages."))},a.prototype._bufferedSend=function(e){!this._buffering&&this._trySend(e)||(this._buffer.push(e),this.bufferSize=this._buffer.length)},a.prototype._trySend=function(e){try{this._dc.send(e)}catch(e){this._buffering=!0;var t=this;return setTimeout(function(){t._buffering=!1,t._tryBuffer()},100),!1}return!0},a.prototype._tryBuffer=function(){if(0!==this._buffer.length){var e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this.bufferSize=this._buffer.length,this._tryBuffer())}},a.prototype._sendChunks=function(e){for(var t=r.util.chunk(e),n=0,i=t.length;n<i;n+=1)e=t[n],this.send(e,!0)},a.prototype.handleMessage=function(e){var t=e.payload;switch(e.type){case"ANSWER":this._peerBrowser=t.browser,o.Negotiator.handleSDP(e.type,this,t.sdp);break;case"CANDIDATE":o.Negotiator.handleCandidate(this,t.candidate);break;default:r.util.warn("Unrecognized message type:",e.type,"from peer:",this.peer)}}},{"./util":"BHXf",eventemitter3:"2JJl","./negotiator":"HCdX",reliable:"aYFJ"}],Hxpd:[function(e,t,n){"use strict";n.__esModule=!0;var r=e("./util"),i=e("eventemitter3"),o=e("./socket"),s=e("./mediaconnection"),a=e("./dataconnection");function u(e,t){if(!(this instanceof u))return new u(e,t);i.EventEmitter.call(this),e&&e.constructor==Object?(t=e,e=void 0):e&&(e=e.toString()),(t=r.util.extend({debug:0,host:r.util.CLOUD_HOST,port:r.util.CLOUD_PORT,path:"/",token:r.util.randomToken(),config:r.util.defaultConfig},t)).key="peerjs",this.options=t,"/"===t.host&&(t.host=window.location.hostname),"/"!==t.path[0]&&(t.path="/"+t.path),"/"!==t.path[t.path.length-1]&&(t.path+="/"),void 0===t.secure&&t.host!==r.util.CLOUD_HOST?t.secure=r.util.isSecure():t.host==r.util.CLOUD_HOST&&(t.secure=!0),t.logFunction&&r.util.setLogFunction(t.logFunction),r.util.setLogLevel(t.debug),r.util.supports.audioVideo||r.util.supports.data?r.util.validateId(e)?(this.destroyed=!1,this.disconnected=!1,this.open=!1,this.connections={},this._lostMessages={},this._initializeServerConnection(),e?this._initialize(e):this._retrieveId()):this._delayedAbort("invalid-id",'ID "'+e+'" is invalid'):this._delayedAbort("browser-incompatible","The current browser does not support WebRTC")}n.Peer=u,r.util.inherits(u,i.EventEmitter),u.prototype._initializeServerConnection=function(){var e=this;this.socket=new o.Socket(this.options.secure,this.options.host,this.options.port,this.options.path,this.options.key,this.options.wsport),this.socket.on("message",function(t){e._handleMessage(t)}),this.socket.on("error",function(t){e._abort("socket-error",t)}),this.socket.on("disconnected",function(){e.disconnected||(e.emitError("network","Lost connection to server."),e.disconnect())}),this.socket.on("close",function(){e.disconnected||e._abort("socket-closed","Underlying socket is already closed.")})},u.prototype._retrieveId=function(e){var t=this,n=new XMLHttpRequest,i=(this.options.secure?"https://":"http://")+this.options.host+":"+this.options.port+this.options.path+this.options.key+"/id";i+="?ts="+(new Date).getTime()+Math.random(),n.open("get",i,!0),n.onerror=function(e){r.util.error("Error retrieving ID",e);var n="";"/"===t.options.path&&t.options.host!==r.util.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),t._abort("server-error","Could not get an ID from the server."+n)},n.onreadystatechange=function(){4===n.readyState&&(200===n.status?t._initialize(n.responseText):n.onerror())},n.send(null)},u.prototype._initialize=function(e){this.id=e,this.socket.start(this.id,this.options.token)},u.prototype._handleMessage=function(e){var t,n=e.type,i=e.payload,o=e.src;switch(n){case"OPEN":this.emit("open",this.id),this.open=!0;break;case"ERROR":this._abort("server-error",i.msg);break;case"ID-TAKEN":this._abort("unavailable-id","ID `"+this.id+"` is taken");break;case"INVALID-KEY":this._abort("invalid-key",'API KEY "'+this.options.key+'" is invalid');break;case"LEAVE":r.util.log("Received leave message from",o),this._cleanupPeer(o);break;case"EXPIRE":this.emitError("peer-unavailable","Could not connect to peer "+o);break;case"OFFER":var u=i.connectionId;if((t=this.getConnection(o,u))&&(t.close(),r.util.warn("Offer received for existing Connection ID:",u)),"media"===i.type)t=new s.MediaConnection(o,this,{connectionId:u,_payload:i,metadata:i.metadata}),this._addConnection(o,t),this.emit("call",t);else{if("data"!==i.type)return void r.util.warn("Received malformed connection type:",i.type);t=new a.DataConnection(o,this,{connectionId:u,_payload:i,metadata:i.metadata,label:i.label,serialization:i.serialization,reliable:i.reliable}),this._addConnection(o,t),this.emit("connection",t)}for(var c=this._getMessages(u),f=0,l=c.length;f<l;f+=1)t.handleMessage(c[f]);break;default:if(!i)return void r.util.warn("You received a malformed message from "+o+" of type "+n);var h=i.connectionId;(t=this.getConnection(o,h))&&t.pc?t.handleMessage(e):h?this._storeMessage(h,e):r.util.warn("You received an unrecognized message:",e)}},u.prototype._storeMessage=function(e,t){this._lostMessages[e]||(this._lostMessages[e]=[]),this._lostMessages[e].push(t)},u.prototype._getMessages=function(e){var t=this._lostMessages[e];return t?(delete this._lostMessages[e],t):[]},u.prototype.connect=function(e,t){if(this.disconnected)return r.util.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),void this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");var n=new a.DataConnection(e,this,t);return this._addConnection(e,n),n},u.prototype.call=function(e,t,n){if(this.disconnected)return r.util.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),void this.emitError("disconnected","Cannot connect to new Peer after disconnecting from server.");if(t){(n=n||{})._stream=t;var i=new s.MediaConnection(e,this,n);return this._addConnection(e,i),i}r.util.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.")},u.prototype._addConnection=function(e,t){this.connections[e]||(this.connections[e]=[]),this.connections[e].push(t)},u.prototype.getConnection=function(e,t){var n=this.connections[e];if(!n)return null;for(var r=0,i=n.length;r<i;r++)if(n[r].id===t)return n[r];return null},u.prototype._delayedAbort=function(e,t){var n=this;r.util.setZeroTimeout(function(){n._abort(e,t)})},u.prototype._abort=function(e,t){r.util.error("Aborting!"),this._lastServerId?this.disconnect():this.destroy(),this.emitError(e,t)},u.prototype.emitError=function(e,t){r.util.error("Error:",t),"string"==typeof t&&(t=new Error(t)),t.type=e,this.emit("error",t)},u.prototype.destroy=function(){this.destroyed||(this._cleanup(),this.disconnect(),this.destroyed=!0)},u.prototype._cleanup=function(){if(this.connections)for(var e=Object.keys(this.connections),t=0,n=e.length;t<n;t++)this._cleanupPeer(e[t]);this.emit("close")},u.prototype._cleanupPeer=function(e){for(var t=this.connections[e],n=0,r=t.length;n<r;n+=1)t[n].close()},u.prototype.disconnect=function(){var e=this;r.util.setZeroTimeout(function(){e.disconnected||(e.disconnected=!0,e.open=!1,e.socket&&e.socket.close(),e.emit("disconnected",e.id),e._lastServerId=e.id,e.id=null)})},u.prototype.reconnect=function(){if(this.disconnected&&!this.destroyed)r.util.log("Attempting reconnection to server with ID "+this._lastServerId),this.disconnected=!1,this._initializeServerConnection(),this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(this.disconnected||this.open)throw new Error("Peer "+this.id+" cannot reconnect because it is not disconnected from the server!");r.util.error("In a hurry? We're still trying to make the initial connection!")}},u.prototype.listAllPeers=function(e){e=e||function(){};var t=this,n=new XMLHttpRequest,i=(this.options.secure?"https://":"http://")+this.options.host+":"+this.options.port+this.options.path+this.options.key+"/peers";i+="?ts="+(new Date).getTime()+Math.random(),n.open("get",i,!0),n.onerror=function(n){t._abort("server-error","Could not get peers from the server."),e([])},n.onreadystatechange=function(){if(4===n.readyState){if(401===n.status){var i;throw i=t.options.host!==r.util.CLOUD_HOST?"It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":"You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",e([]),new Error("It doesn't look like you have permission to list peers IDs. "+i)}200!==n.status?e([]):e(JSON.parse(n.responseText))}},n.send(null)}},{"./util":"BHXf",eventemitter3:"2JJl","./socket":"wJlv","./mediaconnection":"dbHP","./dataconnection":"GBTQ"}],iTK6:[function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};n.__esModule=!0;var i=e("./util"),o=e("./adapter"),s=e("./socket"),a=e("./mediaconnection"),u=e("./dataconnection"),c=e("./peer"),f=e("./negotiator"),l=r(e("js-binarypack"));window.Socket=s.Socket,window.MediaConnection=a.MediaConnection,window.DataConnection=u.DataConnection,window.Peer=c.Peer,window.RTCPeerConnection=o.RTCPeerConnection,window.RTCSessionDescription=o.RTCSessionDescription,window.RTCIceCandidate=o.RTCIceCandidate,window.Negotiator=f.Negotiator,window.util=i.util,window.BinaryPack=l.default,n.default=c.Peer},{"./util":"BHXf","./adapter":"sXtV","./socket":"wJlv","./mediaconnection":"dbHP","./dataconnection":"GBTQ","./peer":"Hxpd","./negotiator":"HCdX","js-binarypack":"lHOc"}]},{},["iTK6"])},function(e,t,n){var r=n(9),i=n(10),o=n(11),s=n(12),a=n(13),u=n(14),c=n(15);c.alea=r,c.xor128=i,c.xorwow=o,c.xorshift7=s,c.xor4096=a,c.tychei=u,e.exports=c},function(e,t,n){(function(e){var n;n=function(){var e=null,t={};s("monochrome",null,[[0,0],[100,0]]),s("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),s("orange",[19,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),s("yellow",[47,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),s("green",[63,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),s("blue",[179,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),s("purple",[258,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),s("pink",[283,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]]);var n=[],r=function(s){if(void 0!==(s=s||{}).seed&&null!==s.seed&&s.seed===parseInt(s.seed,10))e=s.seed;else if("string"==typeof s.seed)e=function(e){for(var t=0,n=0;n!==e.length&&!(t>=Number.MAX_SAFE_INTEGER);n++)t+=e.charCodeAt(n);return t}(s.seed);else{if(void 0!==s.seed&&null!==s.seed)throw new TypeError("The seed value must be an integer or string");e=null}var f,l,h;if(null!==s.count&&void 0!==s.count){for(var d=s.count,p=[],g=0;g<s.count;g++)n.push(!1);for(s.count=null;d>p.length;)e&&s.seed&&(s.seed+=1),p.push(r(s));return s.count=d,p}return f=function(e){if(n.length>0){var r=function(e){if(isNaN(e)){if("string"==typeof e)if(t[e]){var n=t[e];if(n.hueRange)return n.hueRange}else if(e.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var r=u(e)[0];return i(r).hueRange}}else{var o=parseInt(e);if(o<360&&o>0)return i(e).hueRange}return[0,360]}(e.hue),s=o(r),a=(r[1]-r[0])/n.length,c=parseInt((s-r[0])/a);!0===n[c]?c=(c+2)%n.length:n[c]=!0;var f=(r[0]+c*a)%359,l=(r[0]+(c+1)*a)%359;return(s=o(r=[f,l]))<0&&(s=360+s),s}var r=function(e){if("number"==typeof parseInt(e)){var n=parseInt(e);if(n<360&&n>0)return[n,n]}if("string"==typeof e)if(t[e]){var r=t[e];if(r.hueRange)return r.hueRange}else if(e.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var i=u(e)[0];return[i,i]}return[0,360]}(e.hue);return(s=o(r))<0&&(s=360+s),s}(s),l=function(e,t){if("monochrome"===t.hue)return 0;if("random"===t.luminosity)return o([0,100]);var n=function(e){return i(e).saturationRange}(e),r=n[0],s=n[1];switch(t.luminosity){case"bright":r=55;break;case"dark":r=s-10;break;case"light":s=55}return o([r,s])}(f,s),h=function(e,t,n){var r=function(e,t){for(var n=i(e).lowerBounds,r=0;r<n.length-1;r++){var o=n[r][0],s=n[r][1],a=n[r+1][0],u=n[r+1][1];if(t>=o&&t<=a){var c=(u-s)/(a-o),f=s-c*o;return c*t+f}}return 0}(e,t),s=100;switch(n.luminosity){case"dark":s=r+20;break;case"light":r=(s+r)/2;break;case"random":r=0,s=100}return o([r,s])}(f,l,s),function(e,t){switch(t.format){case"hsvArray":return e;case"hslArray":return c(e);case"hsl":var n=c(e);return"hsl("+n[0]+", "+n[1]+"%, "+n[2]+"%)";case"hsla":var r=c(e),i=t.alpha||Math.random();return"hsla("+r[0]+", "+r[1]+"%, "+r[2]+"%, "+i+")";case"rgbArray":return a(e);case"rgb":var o=a(e);return"rgb("+o.join(", ")+")";case"rgba":var s=a(e),i=t.alpha||Math.random();return"rgba("+s.join(", ")+", "+i+")";default:return function(e){var t=a(e);function n(e){var t=e.toString(16);return 1==t.length?"0"+t:t}return"#"+n(t[0])+n(t[1])+n(t[2])}(e)}}([f,l,h],s)};function i(e){for(var n in e>=334&&e<=360&&(e-=360),t){var r=t[n];if(r.hueRange&&e>=r.hueRange[0]&&e<=r.hueRange[1])return t[n]}return"Color not found"}function o(t){if(null===e){var n=Math.random();return n+=.618033988749895,n%=1,Math.floor(t[0]+n*(t[1]+1-t[0]))}var r=t[1]||1,i=t[0]||0,o=(e=(9301*e+49297)%233280)/233280;return Math.floor(i+o*(r-i))}function s(e,n,r){var i=r[0][0],o=r[r.length-1][0],s=r[r.length-1][1],a=r[0][1];t[e]={hueRange:n,lowerBounds:r,saturationRange:[i,o],brightnessRange:[s,a]}}function a(e){var t=e[0];0===t&&(t=1),360===t&&(t=359),t/=360;var n=e[1]/100,r=e[2]/100,i=Math.floor(6*t),o=6*t-i,s=r*(1-n),a=r*(1-o*n),u=r*(1-(1-o)*n),c=256,f=256,l=256;switch(i){case 0:c=r,f=u,l=s;break;case 1:c=a,f=r,l=s;break;case 2:c=s,f=r,l=u;break;case 3:c=s,f=a,l=r;break;case 4:c=u,f=s,l=r;break;case 5:c=r,f=s,l=a}var h=[Math.floor(255*c),Math.floor(255*f),Math.floor(255*l)];return h}function u(e){e=3===(e=e.replace(/^#/,"")).length?e.replace(/(.)/g,"$1$1"):e;var t=parseInt(e.substr(0,2),16)/255,n=parseInt(e.substr(2,2),16)/255,r=parseInt(e.substr(4,2),16)/255,i=Math.max(t,n,r),o=i-Math.min(t,n,r),s=i?o/i:0;switch(i){case t:return[(n-r)/o%6*60||0,s,i];case n:return[60*((r-t)/o+2)||0,s,i];case r:return[60*((t-n)/o+4)||0,s,i]}}function c(e){var t=e[0],n=e[1]/100,r=e[2]/100,i=(2-n)*r;return[t,Math.round(n*r/(i<1?i:2-i)*1e4)/100,i/2*100]}return r}(),e&&e.exports&&(t=e.exports=n),t.randomColor=n}).call(this,n(2)(e))},function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=8},function(e,t,n){(function(e){var r;!function(e,i,o){function s(e){var t,n=this,r=(t=4022871197,function(e){e=String(e);for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)});n.next=function(){var e=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(e),n.s0<0&&(n.s0+=1),n.s1-=r(e),n.s1<0&&(n.s1+=1),n.s2-=r(e),n.s2<0&&(n.s2+=1),r=null}function a(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function u(e,t){var n=new s(e),r=t&&t.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i.double=function(){return i()+1.1102230246251565e-16*(2097152*i()|0)},i.quick=i,r&&("object"==typeof r&&a(r,n),i.state=function(){return a(n,{})}),i}i&&i.exports?i.exports=u:n(1)&&n(3)?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.alea=u}(0,e,n(1))}).call(this,n(2)(e))},function(e,t,n){(function(e){var r;!function(e,i,o){function s(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function a(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function u(e,t){var n=new s(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&a(r,n),i.state=function(){return a(n,{})}),i}i&&i.exports?i.exports=u:n(1)&&n(3)?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.xor128=u}(0,e,n(1))}).call(this,n(2)(e))},function(e,t,n){(function(e){var r;!function(e,i,o){function s(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function a(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function u(e,t){var n=new s(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&a(r,n),i.state=function(){return a(n,{})}),i}i&&i.exports?i.exports=u:n(1)&&n(3)?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.xorwow=u}(0,e,n(1))}).call(this,n(2)(e))},function(e,t,n){(function(e){var r;!function(e,i,o){function s(e){var t=this;t.next=function(){var e,n,r=t.x,i=t.i;return e=r[i],n=(e^=e>>>7)^e<<24,n^=(e=r[i+1&7])^e>>>10,n^=(e=r[i+3&7])^e>>>3,n^=(e=r[i+4&7])^e<<7,e=r[i+7&7],n^=(e^=e<<13)^e<<9,r[i]=n,t.i=i+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function a(e,t){return t.x=e.x.slice(),t.i=e.i,t}function u(e,t){null==e&&(e=+new Date);var n=new s(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&(r.x&&a(r,n),i.state=function(){return a(n,{})}),i}i&&i.exports?i.exports=u:n(1)&&n(3)?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.xorshift7=u}(0,e,n(1))}).call(this,n(2)(e))},function(e,t,n){(function(e){var r;!function(e,i,o){function s(e){var t=this;t.next=function(){var e,n,r=t.w,i=t.X,o=t.i;return t.w=r=r+1640531527|0,n=i[o+34&127],e=i[o=o+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=i[o]=n^e,t.i=o,n+(r^r>>>16)|0},function(e,t){var n,r,i,o,s,a=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),i=0,o=-32;o<u;++o)t&&(r^=t.charCodeAt((o+32)%t.length)),0===o&&(s=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(s=s+1640531527|0,i=0==(n=a[127&o]^=r+s)?i+1:0);for(i>=128&&(a[127&(t&&t.length||0)]=-1),i=127,o=512;o>0;--o)r=a[i+34&127],n=a[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,a[i]=r^n;e.w=s,e.X=a,e.i=i}(t,e)}function a(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function u(e,t){null==e&&(e=+new Date);var n=new s(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&(r.X&&a(r,n),i.state=function(){return a(n,{})}),i}i&&i.exports?i.exports=u:n(1)&&n(3)?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.xor4096=u}(0,e,n(1))}).call(this,n(2)(e))},function(e,t,n){(function(e){var r;!function(e,i,o){function s(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,i=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function a(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function u(e,t){var n=new s(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&a(r,n),i.state=function(){return a(n,{})}),i}i&&i.exports?i.exports=u:n(1)&&n(3)?void 0===(r=function(){return u}.call(t,n,t,i))||(i.exports=r):this.tychei=u}(0,e,n(1))}).call(this,n(2)(e))},function(e,t,n){var r;!function(i,o){var s,a=(0,eval)("this"),u=256,c=6,f="random",l=o.pow(u,c),h=o.pow(2,52),d=2*h,p=u-1;function g(e,t,n){var r=[],p=w(function e(t,n){var r,i=[],o=typeof t;if(n&&"object"==o)for(r in t)try{i.push(e(t[r],n-1))}catch(e){}return i.length?i:"string"==o?t:t+"\0"}((t=1==t?{entropy:!0}:t||{}).entropy?[e,m(i)]:null==e?function(){try{var e;return s&&(e=s.randomBytes)?e=e(u):(e=new Uint8Array(u),(a.crypto||a.msCrypto).getRandomValues(e)),m(e)}catch(e){var t=a.navigator,n=t&&t.plugins;return[+new Date,a,n,a.screen,m(i)]}}():e,3),r),g=new y(r),b=function(){for(var e=g.g(c),t=l,n=0;e<h;)e=(e+n)*u,t*=u,n=g.g(1);for(;e>=d;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|g.g(4)},b.quick=function(){return g.g(4)/4294967296},b.double=b,w(m(g.S),i),(t.pass||n||function(e,t,n,r){return r&&(r.S&&v(r,g),e.state=function(){return v(g,{})}),n?(o[f]=e,t):e})(b,p,"global"in t?t.global:this==o,t.state)}function y(e){var t,n=e.length,r=this,i=0,o=r.i=r.j=0,s=r.S=[];for(n||(e=[n++]);i<u;)s[i]=i++;for(i=0;i<u;i++)s[i]=s[o=p&o+e[i%n]+(t=s[i])],s[o]=t;(r.g=function(e){for(var t,n=0,i=r.i,o=r.j,s=r.S;e--;)t=s[i=p&i+1],n=n*u+s[p&(s[i]=s[o=p&o+t])+(s[o]=t)];return r.i=i,r.j=o,n})(u)}function v(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function w(e,t){for(var n,r=e+"",i=0;i<r.length;)t[p&i]=p&(n^=19*t[p&i])+r.charCodeAt(i++);return m(t)}function m(e){return String.fromCharCode.apply(0,e)}if(w(o.random(),i),e.exports){e.exports=g;try{s=n(16)}catch(e){}}else void 0===(r=function(){return g}.call(t,n,t,e))||(e.exports=r)}([],Math)},function(e,t){},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"UnreliablePacket",function(){return C}),n.d(r,"InputPacket",function(){return N}),n.d(r,"AckPacket",function(){return I});var i={};n.r(i),n.d(i,"ReliablePacket",function(){return P}),n.d(i,"StartPacket",function(){return O}),n.d(i,"PlayerPacket",function(){return R}),n.d(i,"OtherClientsPacket",function(){return D}),n.d(i,"ChecksumPacket",function(){return U});var o,s,a=function(){function e(){this.buffer=[],this.filled=!1}return e.prototype.items=function(){return this.buffer},e.prototype.length=function(){return this.buffer.length},e.prototype.clear=function(){this.buffer=[],this.filled=!1},e.prototype.add=function(e){this.buffer.map(function(e){return e.frame}).includes(e.frame)||this.buffer.push(e),this.buffer=this.buffer.sort(function(e,t){return e.frame-t.frame}),this.buffer.length>=V.BUFFER_SIZE&&(this.filled=!0)},e.prototype.find_lowest=function(e){if(this.buffer.length<=0)throw"Buffer is empty, when trying to find lowest";for(var t=0;t<this.buffer.length;t++)if(this.buffer[t].frame!=e+t)return e+t;return this.buffer[this.buffer.length-1].frame+1},e.prototype.remove_old=function(e){var t=this.buffer.findIndex(function(t){return t.frame===e});-1!==t&&this.buffer.splice(0,t)},e.prototype.popleft=function(){return this.buffer.shift()},e.prototype.popright=function(){return this.buffer.pop()},e.prototype.peek=function(){return this.buffer[0]},e}(),u=n(0),c=n.n(u),f=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(){function e(){this.id=-1,this.x=new u.Decimal(0),this.y=new u.Decimal(0),this.vx=new u.Decimal(0),this.vy=new u.Decimal(0),this.id=T.entity_id++}return e.prototype.update=function(e){},e.prototype.draw=function(e){},e.prototype.collides=function(e){return!1},e.prototype.collision=function(e){},e.prototype.collision_interaction=function(e){},e}(),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.update=function(e){this.x=this.x.add(this.vx),this.y=this.y.add(this.vy),this.vx=this.vx.mul("0.995"),this.vy=this.vy.mul("0.995"),this.x.lessThan(this.radius)&&(this.x=new u.Decimal(this.radius),this.vx=this.vx.neg().mul("0.9")),this.x.greaterThan(e.width-this.radius)&&(this.x=new u.Decimal(e.width-this.radius),this.vx=this.vx.neg().mul("0.9")),this.y.lessThan(this.radius)&&(this.y=new u.Decimal(this.radius),this.vy=this.vy.neg().mul("0.9")),this.y.greaterThan(e.height-this.radius)&&(this.y=new u.Decimal(e.height-this.radius),this.vy=this.vy.neg().mul("0.9"))},t}(l),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.collides=function(e){var t=this.x.minus(e.x),n=this.y.minus(e.y);return t.mul(t).add(n.mul(n)).sqrt().lessThan(this.radius+e.radius)},t}(l),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.collision=function(e){var t=e.x.minus(this.x),n=e.y.minus(this.y),r=t.mul(t).add(n.mul(n)).sqrt();if(r.lessThan(this.radius+e.radius)){var i=t.div(r),o=n.div(r),s=this.x.add(e.x).div(2),a=this.y.add(e.y).div(2);this.x=s.minus(i.mul(this.radius)),this.y=a.minus(o.mul(this.radius)),e.x=s.add(i.mul(e.radius)),e.y=a.add(o.mul(e.radius));var u=this.vx.minus(e.vx),c=this.vy.minus(e.vy),f=u.mul(i).add(c.mul(o)),l=f.mul(i),h=f.mul(o);this.vx=this.vx.minus(l),this.vy=this.vy.minus(h),e.vx=e.vx.add(l),e.vy=e.vy.add(h)}},t}(l),g=n(6),y=n.n(g),v=function(){function e(){}return e.set_random_seed=function(e){s=y()(e)},e}(),w=n(7),m=n.n(w),b=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_=function(e){function t(n,r){var i=e.call(this)||this;return i.radius=t.RADIUS,i.speed=.5,i.x=new c.a(n),i.y=new c.a(r),s.int32(),i.colour=m()({luminosity:"dark",seed:s.int32()}),i}return b(t,e),t.prototype.input=function(e){e.up&&(this.vy=this.vy.minus(this.speed)),e.down&&(this.vy=this.vy.add(this.speed)),e.left&&(this.vx=this.vx.minus(this.speed)),e.right&&(this.vx=this.vx.plus(this.speed))},t.prototype.invert_color=function(e){var t=e;return t=t.substring(1),t="#"+(t=("000000"+(t=(16777215^parseInt(t,16)).toString(16))).slice(-6))},t.prototype.draw=function(e){e.fillStyle=this.invert_color(this.colour),e.beginPath(),e.arc(this.x.toNumber(),this.y.toNumber(),this.radius,0,2*Math.PI),e.fill(),e.fillStyle=this.colour,e.beginPath(),e.arc(this.x.toNumber(),this.y.toNumber(),this.radius-5,0,2*Math.PI),e.fill()},t.RADIUS=20,t}(l),k=function(e){function t(t,n){return e.call(this,t,n)||this}return b(t,e),t}(_);function x(e,t){t.forEach(function(t){Object.getOwnPropertyNames(t.prototype).forEach(function(n){Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype,n))})})}x(_,[h,p,d]),x(k,[h,p,d]);var E,S=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),B=function(e){function t(t,n){var r=e.call(this)||this;return r.radius=20,r.nx=t,r.ny=n,r.x=new c.a(t),r.y=new c.a(n),r}return S(t,e),t.prototype.draw=function(e){e.fillStyle=this.collidedWith?this.collidedWith.colour:"blue",e.beginPath(),e.arc(this.x.toNumber(),this.y.toNumber(),this.radius,0,2*Math.PI),this.collidedWith?e.fill():e.stroke()},t.prototype.collision_interaction=function(e){(e instanceof _||e instanceof k)&&(this.collidedWith=e)},t}(l);E=B,[h,p,d].forEach(function(e){Object.getOwnPropertyNames(e.prototype).forEach(function(t){Object.defineProperty(E.prototype,t,Object.getOwnPropertyDescriptor(e.prototype,t))})});var A=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),C=function(){function UnreliablePacket(){}return UnreliablePacket.prototype.raw=function(){return Object.assign({type:this.constructor.name},this)},UnreliablePacket.convert=function(e){var t=Object.create(r[e.type].prototype);return Object.assign(t,e)},UnreliablePacket}(),N=function(e){function InputPacket(t,n,r,i,o,s){var a=e.call(this)||this;return a.frame=t,a.game=n,a.up=r,a.down=i,a.left=o,a.right=s,a}return A(InputPacket,e),InputPacket}(C),I=function(e){function AckPacket(t,n){var r=e.call(this)||this;return r.game=t,r.received_frames=n,r}return A(AckPacket,e),AckPacket}(C),T=function(){function e(t){var n=this;this.canvas=t,this.ctx=this.canvas.getContext("2d"),window.onkeydown=function(e){n.current_input&&("ArrowUp"===e.key&&(n.current_input.up=!0),"ArrowDown"===e.key&&(n.current_input.down=!0),"ArrowLeft"===e.key&&(n.current_input.left=!0),"ArrowRight"===e.key&&(n.current_input.right=!0))},window.onkeyup=function(e){n.current_input&&("ArrowUp"===e.key&&(n.current_input.up=!1),"ArrowDown"===e.key&&(n.current_input.down=!1),"ArrowLeft"===e.key&&(n.current_input.left=!1),"ArrowRight"===e.key&&(n.current_input.right=!1))},window.onmousedown=function(t){var r=n.canvas.getBoundingClientRect();e.mouse_x=t.clientX-r.left,e.mouse_y=t.clientY-r.top},window.onmouseup=function(t){e.mouse_x=-1,e.mouse_y=-1}}return e.prototype.setup=function(){e.game+=1,e.frame=0,e.entity_id=0,this.current_input=new N(0,e.game,!1,!1,!1,!1),this.input_buffer=new a,this.old_input_buffer=new a,this.other_players=[];for(var t=function(e,t){return new u.Decimal(s()).mul(t-e).add(e).floor().toNumber()},n=0,r=Array.from(V.mapping.keys()).concat(V.local_id).sort();n<r.length;n++){var i=r[n];console.log("Making player for",i);var o=t(_.RADIUS,this.canvas.width-_.RADIUS),c=t(this.canvas.height/2,this.canvas.height-_.RADIUS);i===V.local_id?this.local_player=new _(o,c):this.other_players[V.mapping.get(i)]=new k(o,c)}this.entities=[],this.entities.push(this.local_player),this.entities=this.entities.concat(this.other_players),this.score_tallied=!1,this.scores=new Map;for(var f=0,l=this.entities;f<l.length;f++){var h=l[f];this.scores.set(h.id,0)}this.max_scores=[-1];var d=[new B(400,250)];d.push(new B(d[0].nx-20-2,d[0].ny-40)),d.push(new B(d[0].nx+20+2,d[0].ny-40)),d.push(new B(d[0].nx-40-2,d[0].ny-80)),d.push(new B(d[0].nx,d[0].ny-80)),d.push(new B(d[0].nx+40+2,d[0].ny-80)),d.push(new B(d[0].nx-20-2,d[0].ny-120)),d.push(new B(d[0].nx-60-4,d[0].ny-120)),d.push(new B(d[0].nx+20+2,d[0].ny-120)),d.push(new B(d[0].nx+60+4,d[0].ny-120)),this.balls=d,this.entities=this.entities.concat(d)},e.prototype.simulate=function(t){var n=this.input_buffer.popleft(),r=e.frame*e.FPS,i=e.GAME_START_COUNTDOWN,o=i+e.GAME_END_COUNTDOWN,s=o+e.GAME_END_SCORE_COUNTDOWN;if(r<=i);else if(r<o){this.local_player.input(n);for(var a=0;a<t.length;a++)this.other_players[a].input(t[a]);this.update()}else if(r<=s){if(!this.score_tallied){this.score_tallied=!0;for(var u=0,c=this.balls;u<c.length;u++){var f=c[u];if(f.collidedWith){var l=this.scores.get(f.collidedWith.id)+1;this.scores.set(f.collidedWith.id,l),l===this.max_scores[0]?this.max_scores.push():l>this.max_scores[0]&&(this.max_scores=[l])}}}}else V.ignore_packets=!0,V.reset(),this.setup(),e.frame--;V.ignore_packets=!0,e.frame++,V.ignore_packets=!1},e.prototype.update=function(){for(var e=0;e<this.entities.length;e++){(t=this.entities[e]).update(this.canvas)}for(e=0;e<this.entities.length;e++){var t;if(!((t=this.entities[e])instanceof _))for(var n=0;n<this.entities.length;n++){var r=this.entities[n];t!==r&&(t.collides(r)&&(t.collision(r),t.collision_interaction(r)))}}},e.prototype.draw=function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);for(var t=0,n=this.entities;t<n.length;t++){n[t].draw(this.ctx)}var r=this.canvas.width/2,i=this.canvas.height/2,o=e.frame*e.FPS,s=e.GAME_START_COUNTDOWN,a=s+e.GAME_END_COUNTDOWN,u=a+e.GAME_END_SCORE_COUNTDOWN;if(this.ctx.fillStyle="black",o<=s){var c=(s-o)/1e3;this.ctx.textAlign="center",this.ctx.font="32px Ubuntu",this.ctx.fillText("Game will start in "+c.toFixed(2)+" seconds",r,i)}else if(o<=a){c=(a-o)/1e3;this.ctx.textAlign="left",this.ctx.font="16px Ubuntu",this.ctx.fillText("Game will end in "+c.toFixed(2)+" seconds",20,30)}else{this.ctx.textAlign="center",this.ctx.font="32px Ubuntu",this.max_scores.length>1?this.ctx.fillText("You Tied!",r,i):this.scores.get(this.local_player.id)==this.max_scores[0]?this.ctx.fillText("You WON!",r,i):this.ctx.fillText("You Lost :'(",r,i);c=(u-o)/1e3;this.ctx.fillText("Game will restart in "+c.toFixed(2)+" seconds",r,i+40),this.ctx.textAlign="left",this.ctx.font="16px Ubuntu";for(var f=function(e){var t=i+70+30*e,n=Array.from(l.scores.keys())[e],o=l.scores.get(n),s=l.entities.find(function(e){return e.id===n});l.ctx.fillStyle=s.colour,l.ctx.beginPath(),l.ctx.arc(r-70,t,10,0,2*Math.PI),l.ctx.stroke(),l.ctx.fill(),l.ctx.fillText("- had a score of "+o,r-50,t+5)},l=this,h=0;h<this.scores.size;h++)f(h)}},e.prototype.add_input=function(){if(this.input_buffer.length()<V.BUFFER_SIZE){var e=Object.create(this.current_input);e=Object.assign(e,this.current_input),this.input_buffer.add(e);var t=Object.create(this.current_input);t=Object.assign(t,this.current_input),this.old_input_buffer.add(t),this.current_input.frame++}},e.FPS=Math.floor(1e3/60),e.GAME_START_COUNTDOWN=3e3,e.GAME_END_COUNTDOWN=1e4,e.GAME_END_SCORE_COUNTDOWN=2e3,e.mouse_x=-1,e.mouse_y=-1,e.game=0,e}(),M=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),P=function(){function ReliablePacket(){}return ReliablePacket.prototype.raw=function(){return Object.assign({type:this.constructor.name},this)},ReliablePacket.convert=function(e){var t=Object.create(i[e.type].prototype);return Object.assign(t,e)},ReliablePacket}(),O=function(e){function StartPacket(t){var n=e.call(this)||this;return n.seed=t,n}return M(StartPacket,e),StartPacket}(P),R=function(e){function PlayerPacket(){return e.call(this)||this}return M(PlayerPacket,e),PlayerPacket}(P),D=function(e){function OtherClientsPacket(t){var n=e.call(this)||this;return n.others=t,n}return M(OtherClientsPacket,e),OtherClientsPacket}(P),U=function(e){function ChecksumPacket(t,n){var r=e.call(this)||this;return r.frame=t,r.checksum=n,r}return M(ChecksumPacket,e),ChecksumPacket}(P),L=n(5),j=n.n(L),F=n(4),q=n.n(F),z=function(){function e(){}return e.get_lobbies=function(t){return this.request2("GET",e.SERVER_URL+"/lobbies",{peerId:t})},e.create_lobby=function(t,n){return this.request2("POST",e.SERVER_URL+"/create-lobby",{peerId:t,lobbyName:n})},e.connect_lobby=function(t){return this.request2("POST",e.SERVER_URL+"/connect-lobby",{lobbyName:t})},e.request=function(e,t,n,r,i){var o=new XMLHttpRequest;o.open(e,t,!0),o.onload=function(){if(this.status>=200&&this.status<400){var e=JSON.parse(this.response);r&&r(e)}},o.onerror=function(e){i&&i(e)},"POST"===e&&o.setRequestHeader("Content-Type","application/json"),o.send(JSON.stringify(n))},e.request2=function(e,t,n){var r=this;return new Promise(function(i,o){r.request(e,t,n,i,o)})},e.PEER_IP="lockstep.zapto.org",e.PEER_PORT=3e3,e.SERVER_URL="http://"+e.PEER_IP+":"+e.PEER_PORT,e}(),H=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}u((r=r.apply(e,t||[])).next())})},Y=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},W=new j.a(null,{host:"/",path:"/peerjs",port:z.PEER_PORT,config:{iceServers:[{urls:"stun:lockstep.zapto.org:443"},{urls:"turn:lockstep.zapto.org:443",username:"james",credential:"groot"}],iceTransportPolicy:"all"}}),V=function(){function e(){}return e.reset=function(){e.received_frames=[],e.acknowledged_frames=[];for(var t=0,n=e.buffers;t<n.length;t++){n[t].clear(),e.received_frames.push([]),e.acknowledged_frames.push([])}},e.open_socket=function(){return new Promise(function(t){W.on("open",function(n){console.log("My peer id is: "+n),e.local_id=n,t(n)}),W.on("connection",e.connection_opened)})},e.connection_setup=function(t){return new Promise(function(n){e.mapping.set(t,e.index++),e.buffers.push(new a),e.received_frames.push([]),e.acknowledged_frames.push([]),n()})},e.connection_opened=function(t){console.log((t.reliable?"Reliable":"Unreliable")+" Connection opened with "+t.peer);var n=e.mapping.get(t.peer);void 0===n&&(n=e.index,e.connection_setup(t.peer)),t.reliable?(e.reliable_connections.push(t),t.on("open",function(){if(t.on("data",function(n){e.receive_reliable(t.peer,n)}),e.reliable_connections.length-1>0){var n=new D(e.reliable_connections.slice(0,-1).map(function(e){return e.peer}));t.send(n.raw())}})):(e.unreliable_connections.push(t),t.on("open",function(){t.on("data",function(n){e.receive_unreliable(t.peer,n)})}))},e.full_connect=function(t){console.log("Making a connection with "+t),e.local_id!==t?e.mapping.has(t)?console.log("Network connection with "+t+" already opened"):e.connection_setup(t).then(function(){return e.open_reliable(t)}).then(function(){return e.open_unreliable(t)}).then(function(){return console.log("Connection made with "+t)}).catch(function(){console.log("Unable to make connection made with "+t),e.mapping.delete(t),e.reliable_connections.length===e.index&&e.reliable_connections.pop(),e.unreliable_connections.length===e.index&&e.unreliable_connections.pop(),e.index--}):console.log("Trying to make a connection with ourself")},e.open_reliable=function(t){var n=this;return new Promise(function(r){return H(n,void 0,void 0,function(){var n;return Y(this,function(i){return(n=W.connect(t,{reliable:!0})).on("open",function(){e.reliable_connections.push(n),n.on("data",function(t){e.receive_reliable(n.peer,t)}),r()}),n.on("error",function(e){throw new Error("Unable to make reliable connection: "+e)}),[2]})})})},e.open_unreliable=function(t){var n=this;return new Promise(function(r){return H(n,void 0,void 0,function(){var n;return Y(this,function(i){return(n=W.connect(t)).on("open",function(){e.unreliable_connections.push(n),n.on("data",function(t){e.receive_unreliable(n.peer,t)}),r()}),n.on("error",function(e){throw new Error("Unable to make unreliable connection: "+e)}),[2]})})})},e.receive_reliable=function(t,n){if(console.log("Received reliable: ",n),(n=P.convert(n))instanceof D)for(var r=0,i=n.others;r<i.length;r++){var o=i[r];e.full_connect(o)}for(var s=0,a=e.reliable_callbacks;s<a.length;s++){(0,a[s])(t,n)}},e.receive_unreliable=function(t,n){if(!e.ignore_packets){if((n=C.convert(n))instanceof N){if(n.game<T.game)return;if(n.frame<T.frame)return;var r=e.mapping.get(t);e.buffers[r].add(n);var i=e.received_frames[r];i.includes(n.frame)||i.push(n.frame)}else if(n instanceof I){if(n.game<T.game)return;r=e.mapping.get(t);for(var o=0,s=n.received_frames;o<s.length;o++){var a=s[o];e.acknowledged_frames[r].includes(a)||e.acknowledged_frames[r].push(a)}}for(var u=0,c=e.unreliable_callbacks;u<c.length;u++){(0,c[u])(t,n)}}},e.send_all_reliable=function(t){for(var n=t.raw(),r=0,i=e.reliable_connections;r<i.length;r++){var o=i[r];o&&o.send(n)}},e.send_input_buffer=function(t,n){void 0===n&&(n=0);for(var r=t.items().map(function(e){return e.raw()}),i=0;i<e.unreliable_connections.length;i++){for(var o=e.unreliable_connections[i],s=0,a=r;s<a.length;s++){var u=a[s];e.acknowledged_frames.includes(u)||(Math.random()>=n?o.send(u):console.log("Simulating a lost packet"))}o.send(new I(T.game,e.received_frames[i]).raw()),e.received_frames[i]=[]}for(var c=0,f=e.acknowledged_frames[0];c<f.length;c++){for(var l=f[c],h=!1,d=0,p=e.acknowledged_frames;d<p.length;d++){if(!(m=p[d]).includes(l)){h=!0;break}}if(!h){for(var g=0,y=e.acknowledged_frames;g<y.length;g++){(m=y[g]).splice(m.indexOf(l),1)}-1!==(i=t.items().map(function(e){return e.frame}).indexOf(l))&&t.items().splice(i,1)}}for(var v=0,w=e.acknowledged_frames;v<w.length;v++)for(var m=w[v],b=0;b<m.length;b++){(l=m[b])<T.frame-e.BUFFER_SIZE&&m.splice(b,1)}},e.send_checksum=function(t){for(var n="",r=0,i=t.slice(4);r<i.length;r++){var o=i[r];n+=q()({x:o.x.toNumber(),y:o.y.toNumber()}),n=q()(n)}for(var s=0;s<e.reliable_connections.length;s++){e.reliable_connections[s].send(new U(T.frame-1,n).raw())}},e.BUFFER_SIZE=11,e.RETRY_AMOUNT=5,e.ignore_packets=!1,e.reliable_callbacks=[],e.unreliable_callbacks=[],e.mapping=new Map,e.index=0,e.buffers=[],e.reliable_connections=[],e.unreliable_connections=[],e.received_frames=[],e.acknowledged_frames=[],e}(),X=function(){function e(e,t,n,r,i,o){this.pressed=!1,this.old_pressed=!1,this.x=e,this.y=t,this.width=n,this.height=r,this.text=i,this.callback=o}return e.prototype.update=function(e){this.pressed=T.mouse_x>=this.x-this.width/2&&T.mouse_x<=this.x+this.width/2&&T.mouse_y>=this.y-this.height/2&&T.mouse_y<=this.y+this.height/2,this.pressed&&!this.old_pressed&&this.callback(),this.old_pressed=this.pressed},e.prototype.draw=function(e){e.fillStyle="#000",this.pressed?e.fillRect(this.x-this.width/2,this.y-this.height/2,this.width,this.height):e.strokeRect(this.x-this.width/2,this.y-this.height/2,this.width,this.height),e.fillStyle=this.pressed?"#fff":"#000",e.textAlign="center",e.font="32px Ubuntu",e.fillText(this.text,this.x,this.y+16)},e}();console.log("Starting up"),V.open_socket().then(function(e){console.log("Peer ID is "+e)});var J=document.getElementById("canvas"),Z=J?J.getContext("2d"):null,G=new T(J),K=!1,$=!1,Q=new Set,ee=document.getElementById("lobby-list"),te=function(){Z.clearRect(0,0,J.width,J.height);var e=Math.min(V.mapping.size,V.unreliable_connections.length,V.reliable_connections.length)+1;Z.fillText(e+"/4 clients connected",J.width/2,200),oe.update(J),oe.draw(Z),setTimeout(function(){K||te()},100)},ne=function(){ee.parentElement.style.display="none",$=!0,te()},re=function(){z.get_lobbies(V.local_id).then(function(e){for(var t=function(e){if(!Q.has(e)){Q.add(e);var t=document.createElement("BUTTON");t.innerText=e,t.classList.add("lobby-button"),t.onclick=function(){z.connect_lobby(e).then(function(e){V.full_connect(e.lobby),ne()})},ee.appendChild(t)}},n=0,r=e.lobbies;n<r.length;n++){t(r[n])}}),setTimeout(function(){$||re()},1e3)};re();var ie=function(){K=!0,setTimeout(function(){ae||(G.add_input(),V.send_input_buffer(G.old_input_buffer,0),V.buffers.map(function(e){return e.peek()}).every(function(e){return e&&e.frame===T.frame})&&G.simulate(V.buffers.map(function(e){return e.popleft()})),G.draw()),window.requestAnimationFrame(ie)},T.FPS)},oe=new X(J.width/2,500,500,100,"Start",function(){if(0!==V.mapping.size&&V.reliable_connections.length===V.unreliable_connections.length){var e=Math.random().toString(36).substring(2);V.send_all_reliable(new O(e)),V.send_all_reliable(new R),v.set_random_seed(e)}}),se=0,ae=!0;V.reliable_callbacks.push(function(e,t){t instanceof O?(console.log("Received start command with seed:",t.seed),v.set_random_seed(t.seed),V.send_all_reliable(new R)):t instanceof R&&(console.log("Received PlayerPacket acknowledgement command"),(se+=1)>=V.mapping.size-1&&ae&&(ae=!1,G.setup(),ie()))});var ue=document.getElementById("lobby-name");document.getElementById("create-lobby-button").addEventListener("click",function(){z.create_lobby(V.local_id,ue.value).then(function(){ne()}).catch(function(e){console.log(e)})})}]);